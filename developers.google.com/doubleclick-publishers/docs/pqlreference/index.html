





<!DOCTYPE html><html lang="en"
      class="chekov"><head><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script><meta charset="utf-8"><meta name="xsrf_token" content="rwA5Eh3s3Llgvif5WwuNMczM78toBRbpavsW_FiVvRo6MTUyNDQ2MDIwNjQxNzc5MA" /><link rel="canonical" href="https://developers.google.com/doubleclick-publishers/docs/pqlreference"><link rel="alternate" href="https://developers.google.com/doubleclick-publishers/docs/pqlreference?hl=ja" hreflang="ja"><link rel="alternate" href="https://developers.google.com/doubleclick-publishers/docs/pqlreference?hl=zh-cn" hreflang="zh-Hans"><link rel="alternate" href="https://developers.google.com/doubleclick-publishers/docs/pqlreference" hreflang="en"><link rel="alternate" href="https://developers.google.cn/doubleclick-publishers/docs/pqlreference?hl=ja" hreflang="ja-cn"><link rel="alternate" href="https://developers.google.cn/doubleclick-publishers/docs/pqlreference?hl=zh-cn" hreflang="zh-Hans-cn"><link rel="alternate" href="https://developers.google.cn/doubleclick-publishers/docs/pqlreference" hreflang="en-cn"><link rel="alternate" href="https://developers.google.com/doubleclick-publishers/docs/pqlreference" hreflang="x-default"><link rel="shortcut icon" href="https://developers.google.com/_static/d7147bb846/images/favicon.png"><link rel="apple-touch-icon" href="https://developers.google.com/_static/d7147bb846/images/touch-icon.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet"
      
      href="//fonts.googleapis.com/css?family=Google+Sans:400|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"
      ><link rel="stylesheet"
        href="https://developers.google.com/_static/d7147bb846/css/devsite-google-green.css"><link rel="search"
        type="application/opensearchdescription+xml"
        title="Google Developers"
        href="https://developers.google.com/s/opensearch.xml"><script src="https://developers.google.com/_static/d7147bb846/js/jquery-bundle.js"></script><meta property="og:site_name" content="Google Developers"><meta property="og:type" content="website"><meta property="og:url" content="https://developers.google.com/doubleclick-publishers/docs/pqlreference"><meta property="og:locale" content="en"><script>
    var ___gcfg = ___gcfg || {};
    ___gcfg.lang = 'en';
  </script><title>The Publisher Query Language (PQL) Developer's Guide &nbsp;|&nbsp; DoubleClick for Publishers API
      &nbsp;|&nbsp; Google Developers</title><meta property="og:title" content="The Publisher Query Language (PQL) Developer's Guide &nbsp;|&nbsp; DoubleClick for Publishers API
      &nbsp;|&nbsp; Google Developers"><meta property="og:image"
          content="https://developers.google.com/_static/d7147bb846/images/share/devsite-google-green.png"><meta property="og:image:secure_url"
          content="https://developers.google.com/_static/d7147bb846/images/share/devsite-google-green.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"></head><body class="
               devsite-doc-page
               
               
               
               devsite-header-no-upper-tabs
               "
        data-family="endorsed"
        id="top_of_page"><div class="devsite-wrapper"><div class="devsite-top-section-wrapper
            "><header class="devsite-top-section nocontent"><div class="devsite-top-logo-row-wrapper-wrapper"><div class="devsite-top-logo-row-wrapper"><div class="devsite-top-logo-row devsite-full-site-width"><button type="button" class="devsite-expand-section-nav devsite-header-icon-button
                                       button-flat material-icons gc-analytics-event"
                  data-category="Site-Wide Custom Events" data-label="Hamburger menu"></button><div class="devsite-product-name-wrapper"><a class="devsite-product-name-link gc-analytics-event"
       href="https://developers.google.com/doubleclick-publishers/docs/start"
       data-category="Site-Wide Custom Events"
       data-label="Project logo (header)"><img src="https://developers.google.com/ads/images/dclk-logo-mark-128px.png" class="devsite-product-logo"
               alt="DoubleClick for Publishers API"></a><span class="devsite-product-name"><ul class="devsite-breadcrumb-list"><li class="devsite-breadcrumb-item"><a href="https://developers.google.com/doubleclick-publishers/docs/start" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Upper Header"
       data-value="1">
    
    
      
        DoubleClick for Publishers API
      
    
    
    </a></li></ul></span></div><div class="devsite-header-upper-tabs"></div><form class="devsite-search-form"
                action="https://developers.google.com/s/results/"
                method="GET"
                id="top-search"
                search-placeholder='Search'><div id="searchbox" class="devsite-searchbox"><input placeholder='Search'
         
         type="text"
         class="devsite-search-field devsite-search-query"
         name="q"
         value=""
         autocomplete="off"
         
         aria-label="Search box"><div class="devsite-search-image material-icons"></div></div><input type="hidden"
       name="p"
       id="search_project"
       value="/doubleclick-publishers/"
       data-project-name="DoubleClick for Publishers API"
       data-project-path="/doubleclick-publishers/"
       data-query-match=""><input type="hidden" class="suggest-project" value="DoubleClick for Publishers API" /><div class="suggest-project-metadata" data-home_url="/doubleclick-publishers/docs/start" data-path="/doubleclick-publishers/" data-name="DoubleClick for Publishers API" ></div></form><a class="devsite-header-link devsite-top-button button gc-analytics-event"
               href="https://developers.google.com/products/"
               data-category="Site-Wide Custom Events"
               data-label="Site header link"
               track-type="navigateTo"
               track-name="all products"
               track-metadata-position="nav"><div class="devsite-header-link-label">All Products</div></a><button type="button" class="devsite-search-button devsite-header-icon-button button-flat
                                       material-icons"></button><a href="https://www.google.com/accounts/ServiceLogin?passive=true&continue=https%3A%2F%2Fdevelopers.google.com%2Fdoubleclick-publishers%2Fdocs%2Fpqlreference%3Frefresh%3D1&service=ahsid"
   class="devsite-user-signin devsite-top-button button gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Sign in button">
  
  Sign in
</a></div></div></div><div class="devsite-collapsible-section"><div class="devsite-header-background devsite-full-site-width"><div class="devsite-doc-set-nav-row devsite-full-site-width"><nav class="devsite-doc-set-nav devsite-nav devsite-overflow-tabs-scroll-wrapper"><ul class="devsite-doc-set-nav-tab-list devsite-overflow-tabs-scroll"><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/doubleclick-publishers/docs/start"
         class="devsite-doc-set-nav-active devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         aria-label="Guides, selected"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Guides"
       >
        Guides
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/doubleclick-publishers/docs/rel_notes"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Reference"
       >
        Reference
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/doubleclick-publishers/docs/clients"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Samples"
       >
        Samples
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/doubleclick-publishers/community"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Support"
       >
        Support
      </a></li><button type="button" id="devsite-feedback-project"
          class="devsite-feedback-button devsite-top-button gc-analytics-event"
          data-category="Site-Wide Custom Events" data-label="Send Feedback Button"
          track-type="feedback" track-name="sendFeedbackLink" track-metadata-position="header">
  
  Send feedback
  </button></ul></nav></div></div></div></header><script>
    if (window.jQuery) {
      $(document).ready(function() {
        if (window.devsite && window.devsite.search) {
          
          window.devsite.search.init('en')
        }
      });
    }
  </script></div><div id="gc-wrapper"itemscope itemtype="http://schema.org/Article"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;DoubleClick for Publishers API&quot;, &quot;dimension5&quot;: &quot;en&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-24532603-1&quot;}"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {}, &quot;gaid&quot;: &quot;UA-54828107-13&quot;}"><script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "HK", "language": {"requested": "en", "served": "en"}, "projectName": "DoubleClick for Publishers API", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>

      
        <div class="devsite-site-mask"></div>
        
  


<nav class="devsite-nav-responsive devsite-nav nocontent" tabindex="0">
  
  <div class="devsite-nav-responsive-tabs-panel">
    
      



<nav class="devsite-nav-responsive-tabs devsite-nav">
  <ul class="devsite-nav-list">
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <span class="devsite-nav-responsive-forward devsite-nav-responsive-tab devsite-nav-title
                   devsite-nav-active gc-analytics-event"
            data-category="Site-Wide Custom Events" data-label="Responsive Tab: Guides"
            tabindex="0">
        Guides
      </span>
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/doubleclick-publishers/docs/rel_notes?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Reference">
        Reference
      </a>
      
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/doubleclick-publishers/docs/clients"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Samples">
        Samples
      </a>
      
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/doubleclick-publishers/community"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Support">
        Support
      </a>
      
      
    
    </li>
  
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      <a href="https://developers.google.com/products/"
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
         data-label="Responsive Tab: all_products">
        All Products
      </a>
    </li>
  
  </ul>
</nav>


    
  </div>
  
  
  <div class="devsite-nav-responsive-sidebar-panel">
    
    <div class="devsite-nav-responsive-back" tabindex="0"></div>
    
    <nav class="devsite-nav-responsive-sidebar"></nav>
  </div>
  
  
</nav>


        <div class="devsite-main-content clearfix">

        
        
          <div class="devsite-banner devsite-banner-announcement
                    ">
            <div class="devsite-banner-inner">
            Reminder: v201705 will be <a href="/doubleclick-publishers/docs/deprecation">sunset</a> on May 31, 2018.
            </div>
          </div>
        

        
  
  
    
    
      
  <nav class="devsite-section-nav devsite-nav nocontent">
    <ul class="devsite-nav-list devsite-nav-expandable devsite-nav-only-accordions"><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/start" class="devsite-nav-title">Get Started</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/authentication" class="devsite-nav-title">Authentication</a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://developers.google.com/doubleclick-publishers/docs/pqlreference" class="devsite-nav-title">PQL Guide</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/third-parties" class="devsite-nav-title">Third Parties</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/adx_reporting_migration" class="devsite-nav-title">Migrating from AdX Seller</a></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="DFP Core Product, click to expand/collapse" role="link">DFP Core Product</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/intro" class="devsite-nav-title">Basic Concepts</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/how_to" class="devsite-nav-title">How To</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/reporting" class="devsite-nav-title">Reports</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/forecasting" class="devsite-nav-title">Forecasts</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/native" class="devsite-nav-title">Native</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/bestpractices" class="devsite-nav-title">Best Practices</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/environments" class="devsite-nav-title">Test Networks vs. Production</a></li></ul></li><li class="devsite-nav-item devsite-nav-item-section-expandable devsite-nav-accordion"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="DFP Sales Manager &amp; Programmatic, click to expand/collapse" role="link">DFP Sales Manager &amp; Programmatic</span><a class="devsite-nav-toggle devsite-nav-toggle-collapsed material-icons" track-type="leftNav" track-name="expandNavSectionArrow" track-metadata-position="0" aria-hidden="true"></a><ul class="devsite-nav-section devsite-nav-section-collapsed"><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/sales/index" class="devsite-nav-title">Overview</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/sales-manager-products" class="devsite-nav-title">Products</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/sales-manager-product-packages" class="devsite-nav-title">Product Packages</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/sales-manager-proposals" class="devsite-nav-title">Proposals</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/sales-manager-proposal-line-items" class="devsite-nav-title">Proposal Line Items</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/sales-manager-rates" class="devsite-nav-title">Rate Cards, Base Rates, and Feature Premiums</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/sales-manager-workflows" class="devsite-nav-title">Workflows</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/doubleclick-publishers/docs/sales-manager-reconciliation" class="devsite-nav-title">Reconciliation</a></li></ul></li></ul>
  </nav>

    

    
  <nav class="devsite-page-nav devsite-nav"></nav>


      <article class="devsite-article">
        <article class="devsite-article-inner">
  
          
  



  
  <nav class="devsite-breadcrumb-nav devsite-nav">
    


<ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item">
    
    
    <a href="https://developers.google.com/products/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="1">
    
    
      Products
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.com/ads/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="2">
    
    
      Ads
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.com/doubleclick-publishers/docs/start" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="3">
    
    
      DoubleClick for Publishers API
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.com/doubleclick-publishers/docs/start" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="4">
    
    
      Guides
    
    
    </a>
    
  </li>
  
</ul>

  </nav>
  
  
  <h1 itemprop="name" class="devsite-page-title">
    The Publisher Query Language (PQL) Developer's Guide
  </h1>
  
  
  <nav class="devsite-page-nav-embedded devsite-nav"></nav>
  
  <div class="devsite-article-body clearfix
            "
       itemprop="articleBody">
    

<h2><a name="syntax" id="syntax"></a>PQL syntax and usage</h2>
<p>PQL is a SQL-like language for querying for objects. The PQL syntax is similar
  to that of SQL, with a few differences described here. This section describes the PQL syntax, and how to use it to filter various object types.</p>

<p>The PQL syntax can be summarized as follows:</p>
<pre>
[WHERE &lt;condition&gt; {[AND | OR] &lt;condition&gt; ...}]
[ORDER BY &lt;property&gt; [ASC | DESC]]
[LIMIT {[&lt;offset&gt;,] &lt;count&gt;} | {&lt;count&gt; OFFSET &lt;offset&gt;}]

&lt;condition&gt; := &lt;property&gt; { = | != } &lt;value&gt;
&lt;condition&gt; := &lt;property&gt; { = | != } &lt;bind variable&gt;
&lt;condition&gt; := &lt;property&gt; IN &lt;list&gt;
&lt;condition&gt; := NOT &lt;property&gt; IN &lt;list&gt;
&lt;condition&gt; := &lt;property&gt; LIKE &lt;wildcard%match&gt;
&lt;condition&gt; := &lt;property&gt; IS NULL
&lt;bind variable&gt; := :&lt;name&gt;</pre>
<aside class="special">
  <strong>Important:</strong>
  <span> The ReportService only supports a subset of PQL syntax. See the <a href="https://developers.google.com/doubleclick-publishers/docs/reference/latest/ReportService.ReportQuery#statement">ReportQuery</a> documentation for details.</span>
</aside>
<p><strong>Notes:</strong></p>
  <ul>
    <li>PQL keywords are not case sensitive.</li>
    <li>Strings are escaped automatically when used in bind parameters. Otherwise:
<ul>
  <li><p> For a string within single quotes (apostrophes), escape any additional apostrophe by writing it as a pair of single quotes.</p>
              <strong>Example: </strong><code>&quot;WHERE name = &#39;Company&#39;&#39;s name&#39;&quot;</code>
      </li>
     </ul>
  </ul>
<p><strong>Keywords (case-insensitive)</strong></p>
<ul>
  <li><code><strong>WHERE</strong></code> - Expresses a set of zero or more conditions,
    optionally joined using AND or OR phrases. You can bundle AND or OR phrases with
    parentheses. Executing the query <code>&quot;&quot;</code> (empty string) returns
    everything.
    <p>
      <strong>Examples:</strong> <code>WHERE width = 728</code> ; &nbsp;&nbsp;<code>WHERE
          width = 728 AND height = 90</code>&nbsp;;&nbsp;&nbsp;<code>WHERE (width
          = 728 AND height = 90) OR id IN (5008, 8745, 3487)</code>
    </p>
  </li>
  <li><code><strong>OR</strong></code> - Joins multiple conditions, only one of which
    must be true. If you want to check for any of several values for a single property,
    consider using an <code>IN</code> clause.
    <p>
      <strong>Example: </strong><code>WHERE width = 728 OR height = 90</code>
    </p>
  </li>
  <li><code><strong>AND</strong></code> - Joins multiple conditions that must all
    be satisfied using the AND clause.
    <p>
      <strong>Example:</strong> <code>WHERE type = 'AGENCY' AND name IN ('CompanyNameA',
          'CompanyNameB')</code>
    </p>
  </li>
  <li><code><strong>ORDER BY</strong></code> - Sorts the returned results in either
    ascending (<code>ASC</code> where 'A' is first) or descending (<code>DESC</code> where
    'A' is last) order. If the direction is not specified, it defaults to <code>ASC</code>.
    If this clause is not included the default is <code>ASC</code> on the first field.
    <p>
      <strong>Example:</strong> <code>WHERE id IN (5008, 8745, 3487) ORDER BY
          id</code>
    </p>
  </li>
  <li><code><strong>LIMIT</strong></code> - The number of results to return. The <code>LIMIT</code> can also include an <code>&lt;offset&gt;</code>,
    which is how many rows from the start to offset your result set.
    <p>
      <strong>Examples</strong> (both examples return the same result set): <code>WHERE
          type = 'AGENCY' LIMIT 50 OFFSET 50</code> ;&nbsp;&nbsp;&nbsp;<code>WHERE
          type = 'AGENCY' LIMIT 50,50</code>
    </p>
  </li>
  <li><code><strong>OFFSET</strong></code> - The offset into the result set to begin
    returning values. Use this to page through results.
    <p>
      <strong>Example</strong> (returns results 51-100): <code>WHERE type = 'AGENCY'
          LIMIT 50 OFFSET 50</code>.</li>
    </p>
  </li>
  <li><code><strong>&lt;property&gt;</strong></code> - One of the properties exposed
    by the object. Each object exposes different properties that you can filter by,
    using PQL; you usually cannot filter on all properties supported by an object,
    so check the list below to see which properties support PQL queries. For example,
    the creative properties you can filter by include <code>id</code>, <code>name</code>, <code>width</code>,
    and <code>height</code>.</li>
  <li><code><strong>&lt;value&gt;</strong></code> - String values should be quoted
    with a single (') quotation mark. Number values can be quoted
    or unquoted. Wildcards are not supported.</li>
  <li><code><strong>IN</strong></code> - Compares the value of a property to each item
    in a list; if any one matches, it is a positive match. The <code>IN</code> operator
    is equivalent to many <code>=</code> queries, one for each value, that are ORed
    together. The values are specified as a comma-separated list of values, enclosed
    in parentheses: (a, b, c). All of the values in the list are evaluated.
    <p>
      <strong>Example</strong>: <code>WHERE name IN ('CompanyNameA', 'CompanyNameB')</code>
    </p>
  </li>
  <li><code><strong>NOT IN</strong></code> - Compares the value of a property to each item
    in a list; if none match, it is a positive match. The <code>NOT IN</code> operator
    is equivalent to many <code>!=</code> queries, one for each value, that are ORed
    together. The values are specified as a comma-separated list of values, enclosed
    in parentheses: (a, b, c). All of the values in the list are evaluated.
    <p>
      <strong>Example</strong>: <code>WHERE NOT name IN ('CompanyNameA', 'CompanyNameB')</code>
    </p>
  </li>
  <li><code><strong>LIKE</strong></code> - Enables you to query for objects using partial and wildcard string matching.
    <p>
      <strong>Example</strong>: <code>WHERE name LIKE 'startswith%'</code>
    </p>
  </li>
  <li><code><strong>IS NULL</strong></code> - Enables you to query for objects with
    an undefined property value. The classic example of this is querying for the
    root <code>AdUnit</code> by querying for an <code>AdUnit</code> with a null parent
    ID.
    <p>
      <strong>Example</strong>: <code>WHERE parentId IS NULL</code>.
    </p>
  </li>
  <li><code><strong><a name="bindvariable" id="bindvariable"></a>&lt;bind variable&gt;</strong></code> - You can use <code>Value</code> objects
    in place of hard-coded &lt;value&gt; values in your PQL query. A bind variable
    is referred to in PQL using a string name without spaces, starting with a : (colon).
    <p><strong>Example</strong> (Creates
    a query and enters two variables in place of hard-coded id and status property
    values):</p>
    <pre>
// Create two mapped parameters: id and status
String_ValueMapEntry[] values = new String_ValueMapEntry[2];
values[0] = new String_ValueMapEntry(&quot;id&quot;, new NumberValue(null, &quot;123&quot;));
values[1] = new String_ValueMapEntry(&quot;status&quot;, new TextValue(null, &quot;APPROVED&quot;));

// Create our statement and map our bind variables
Statement statement = new Statement();
statement.setQuery(&quot;WHERE id = :id AND status = :status LIMIT 500&quot;);
statement.setValues(values);</pre>
  </li>
<li><code><strong><a name=&quot;datetimefields&quot; id=&quot;datetimefields&quot;></a>DateTime</strong></code> fields - You can filter by date and time by assigning a <code>DateTime</code> value to a bind variable, or by using a string formatted according to ISO 8601.
    <pre>
// Create two mapped parameters: id and status
String_ValueMapEntry[] values = new String_ValueMapEntry[1];
values[0] = new String_ValueMapEntry("startDateTime", new DateTimeValue(null, dateTime));

// Create our statement and map our bind variables
Statement statement = new Statement();
statement.setQuery(&quot;WHERE endDateTime < &#39;2012-01-01T00:00:00&#39; AND startDateTime > :startDateTime LIMIT 500&quot;);
statement.setValues(values);</pre>
</li>
</ul>

<h2><a name="matchtables" id="matchtables"></a>Fetching match tables with PQL</h2>

<p>
Match tables provide a lookup mechanism for the raw values contained within data transfer files, allowing you to match ad serving information (such as ad unit or line item) to pre-assigned values stored in the database.
</p>

<p>
If you're running reports through the <a href="https://developers.google.com/doubleclick-publishers/docs/reference/latest/ReportService">ReportService</a> or with <a href="https://support.google.com/dfp_premium/answer/1733124?hl=en&ref_topic=3038164">Data Transfer reports</a>, you might want to supplement your report data with additional fields. For example, with a report that has the dimension <a href="https://developers.google.com/doubleclick-publishers/docs/reference/latest/ReportService.Dimension#LINE_ITEM_ID">LINE_ITEM_ID</a> or with a data transfer event that has the field <a href="https://support.google.com/dfp_premium/table/7401123?hl=en&ref_topic=3038164#LineItemId">LineItemId</a>, you can create a match table that includes each line item's start date, end date, type, status, and other useful attributes.
</p>

<p>
There are several ways to accomplish this matching functionality:
<ol>
  <li>An efficient approach is to use any of the available <a href="https://developers.google.com/doubleclick-publishers/docs/reference/latest/PublisherQueryLanguageService#geo_target">PublisherQueryLanguageService tables</a>.</li>
  <li>If your client library supports it, you can use a built-in utility function to access PQL tables, like the Python example below.
  <li>If there is no PQL table for the entity you need, you can go through that entity's service directly, such as the <a href="https://developers.google.com/doubleclick-publishers/docs/reference/latest/OrderService">OrderService</a>.</li>
</ol>

<div class="ds-selector-tabs" style="overflow:auto">
  <section data-ds-value="python_matchtable">
      <h3>Python</h3>
  <ol>
  </br>
  <li><b>Set up a report query</b>
    <p>Start by creating a report job, specifying your report parameters such
    as dimensions, columns, and date range.</p>
    <pre class="prettyprint">
# Set the start and end dates of the report to run (past 8 days).
end_date = date.today()
start_date = end_date - timedelta(days=8)

# Create report job.
report_job = {
    &#39;reportQuery&#39;: {
        &#39;dimensions&#39;: [&#39;LINE_ITEM_ID&#39;, &#39;LINE_ITEM_NAME&#39;],
        &#39;columns&#39;: [&#39;AD_SERVER_IMPRESSIONS&#39;, &#39;AD_SERVER_CLICKS&#39;,
                    &#39;AD_SERVER_CTR&#39;, &#39;AD_SERVER_CPM_AND_CPC_REVENUE&#39;,
                    &#39;AD_SERVER_WITHOUT_CPD_AVERAGE_ECPM&#39;],
        &#39;dateRangeType&#39;: &#39;CUSTOM_DATE&#39;,
        &#39;startDate&#39;: start_date,
        &#39;endDate&#39;: end_date
    }
}
    </pre>
  </li>
  <li><b>Download the report</b>
    <pre class="prettyprint">
# Initialize a DataDownloader.
report_downloader = client.GetDataDownloader(version=&#39;v201708&#39;)

try:
  # Run the report and wait for it to finish.
  report_job_id = report_downloader.WaitForReport(report_job)
except errors.DfpReportError, e:
  print &#39;Failed to generate report. Error was: %s&#39; % e

with tempfile.NamedTemporaryFile(
    suffix=&#39;.csv.gz&#39;, mode=&#39;wb&#39;, delete=False) as report_file:
  # Download report data.
  report_downloader.DownloadReportToFile(
      report_job_id, &#39;CSV_DUMP&#39;, report_file)
    </pre>
  </li>
  <li><b>Download data from the <code>Line_Item</code> PQL table</b>
    <p>To match your report with additional line item data, you can
    use the <a href="https://developers.google.com/doubleclick-publishers/docs/reference/latest/PublisherQueryLanguageService#Line_Item">Line_Item</a>
    PQL table.</p>
    <pre class="prettyprint">
# Create a PQL query to fetch the line item data
line_items_pql_query = (&#39;SELECT Id, LineItemType, Status FROM LineItem&#39;)

# Download the response from PQL select statement
line_items = report_downloader.DownloadPqlResultToList(line_items_pql_query)
    </pre>
  </li>
  <li><b>Join report data with line item data</b>
    <p>This example uses the
    <a href="https://github.com/pandas-dev/pandas">pandas</a> library since it
    makes working with tabular data much easier. Here, it's used to join the
    report data with the PQL data to make a match table.</p>
    <pre class="prettyprint">
# Use pandas to join the two csv files into a match table
report = pandas.read_csv(report_file.name)
line_items = pandas.DataFrame(data=line_items[1:], columns=line_items[0])
merged_result = pandas.merge(report, line_items,
                             left_on=&#39;Dimension.LINE_ITEM_ID&#39;, right_on=&#39;id&#39;)
merged_result.to_csv(&#39;~/complete_line_items_report.csv&#39;, index=False)
    </pre>
  </li>
</ol>



  </section>
</div>
  
  </div>
  

  
        
  







        
<div class="devsite-content-footer nocontent">
  
  
    <p>Except as otherwise noted, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="https://developers.google.com/terms/site-policies">Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  

  
    
    <p class="devsite-content-footer-date" itemprop="datePublished"
       content="2018-02-13T17:09:53.402950">
      
      Last updated February 13, 2018.
    </p>
  

</div>

        </article>
      </article>
  

        </div>
      

<footer class="devsite-footer-linkboxes nocontent
               
               devsite-footer-linkboxes-with-sites"><nav class="devsite-full-site-width"><ul class="devsite-footer-linkboxes-list"><li class="devsite-footer-linkbox "><h3 class="devsite-footer-linkbox-heading">Connect</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://plus.google.com/115658573333388777174/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Google Ads Developer community on G+
            </a></li><li class="devsite-footer-linkbox-item"><a href="http://googleadsdeveloper.blogspot.com/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Google Ads Developer Blog
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://twitter.com/#!/doubleclick" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Twitter
            </a></li></ul></li><li class="devsite-footer-linkbox "><h3 class="devsite-footer-linkbox-heading">Product Info</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://www.google.com/intl/en_ALL/doubleclick/tos/dfp-api-terms.html" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Terms of Service
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-backup"><h3 class="devsite-footer-linkbox-heading">Developer Consoles</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="//console.developers.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Google Developers Console">
                Google API Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="//console.cloud.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Google Cloud Platform Console">
                Google Cloud Platform Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="//play.google.com/apps/publish/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Google Play Console">
                Google Play Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="//console.firebase.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Firebase Console">
                Firebase Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cast.google.com/publish/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Cast SDK Developer Console">
                Cast SDK Developer Console
            </a></li><li class="devsite-footer-linkbox-item"><a href="//chrome.google.com/webstore/developer/dashboard" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Chrome Web Store Developer Dashboard">
                Chrome Web Store Dashboard
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-sites"><a href="https://developers.google.com/"
           class="gc-analytics-event devsite-footer-linkbox-logo-link"
           data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link"><img class="devsite-footer-linkbox-logo"
               src="https://developers.google.com/_static/d7147bb846/images/redesign-14/lockup-color-knockout.png"
               alt="Google Developers"></a><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="//developer.android.com/index.html" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Android Link">
                Android
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developer.chrome.com/home" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Chrome Link">
                Chrome
            </a></li><li class="devsite-footer-linkbox-item"><a href="//firebase.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Firebase Link">
                Firebase
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloud.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Cloud Link">
                Google Cloud Platform
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developers.google.com/products/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Products Link">
                All Products
            </a></li></ul></li></ul></nav></footer><footer class="devsite-utility-footer"><nav class="devsite-utility-footer-nav devsite-nav devsite-full-site-width"><div class="devsite-utility-footer-nav-left"><form class="devsite-utility-footer-language" action="/i18n/setlang/" method="post"><input type="hidden" name="xsrf_token" value="rwA5Eh3s3Llgvif5WwuNMczM78toBRbpavsW_FiVvRo6MTUyNDQ2MDIwNjQxNzc5MA" /><input type="hidden" name="next" value="/doubleclick-publishers/docs/pqlreference"><select class="devsite-utility-footer-language-select kd-select" name="language"
                track-type="languageSelector" track-name="click"><option value="id"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="id">
            Bahasa Indonesia
          </option><option value="de"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="de">
            Deutsch
          </option><option value="en"
                 selected="selected" 
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="en">
            English
          </option><option value="es"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="es">
            español
          </option><option value="fr"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="fr">
            français
          </option><option value="pt-br"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="pt-br">
            Português Brasileiro
          </option><option value="ru"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="ru">
            Русский
          </option><option value="ja"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="ja">
            日本語
          </option><option value="zh-cn"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="zh-cn">
            简体中文
          </option><option value="ko"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="ko">
            한국어
          </option></select></form><span class="devsite-utility-footer-links"><a class="devsite-utility-footer-link gc-analytics-event"
           href="https://developers.google.com/terms/site-terms"
           data-category="Site-Wide Custom Events"
           data-label="Footer terms link"
           data-footer-link-id="terms"
           >Terms
         </a><a class="devsite-utility-footer-link gc-analytics-event"
           href="//www.google.com/policies/privacy/"
           data-category="Site-Wide Custom Events"
           data-label="Footer privacy link"
           data-footer-link-id="privacy"
           >Privacy
         </a></span></div><div class="devsite-utility-footer-nav-right"><div class="devsite-utility-footer-newsletter-signup-text">
        Sign up for the Google Developers newsletter
      </div><a class="button button-primary devsite-utility-footer-newsletter-signup-button"
         href="//services.google.com/fb/forms/googledevelopersnewsletter/?utm_medium=referral&amp;utm_source=google-products&amp;utm_team=googledevs&amp;utm_campaign=201611-newsletter-launch">
        
        Subscribe
      </a></div></nav></footer><div class="devsite-feedback-dialog devsite-dialog"><div class="devsite-dialog-contents"><h3>Send feedback about...</h3><div class="devsite-feedback-item"><a data-type="documentation" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Docs Feedback Image"
           track-type="feedback" track-name="feedbackDocIcon" track-metadata-position="header"><div class="devsite-feedback-item-icon-container"><div class="devsite-feedback-item-icon-white devsite-feedback-item-icon-docs
                        material-icons"></div></div></a><div class="devsite-feedback-item-name">
          
          This page
        </div><div class="devsite-feedback-item-description"><a data-type="documentation" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Docs Feedback Text"
             track-type="feedback" track-name="feedbackDocText" track-metadata-position="header">
            
            Documentation feedback
          </a></div></div><div class="devsite-feedback-item"><a data-type="product" tabindex="0" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Product Feedback Image"
           track-type="feedback" track-name="feedbackProductIcon" track-metadata-position="header"
         ><img src="https://developers.google.com/ads/images/dclk-logo-mark-128px.png"
                 class="devsite-feedback-item-icon"
                 alt="DoubleClick for Publishers API"></a><div class="devsite-feedback-item-name">
        DoubleClick for Publishers API
        </div><div class="devsite-feedback-item-description"><a data-type="product" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Product Feedback Text"
             track-type="feedback" track-name="feedbackProductText" track-metadata-position="header"
           >
            
            Product feedback
          </a></div></div><div class="devsite-feedback-support"><img src="https://developers.google.com/_static/d7147bb846/images/feedback/ic_help_24px.svg">
        
        
        Need help? Visit our <a href="https://groups.google.com/forum/#!forum/google-doubleclick-for-publishers-api" >support page</a>.
      </div></div><div class="devsite-dialog-buttons"><button type="button" class="devsite-feedback-cancel button-white gc-analytics-event"
              data-category="Site-Wide Custom Events" data-label="Cancel Feedback Button"
              track-type="feedback" track-name="cancelFeedbackButton"
              track-metadata-position="header">
        
        Cancel
      </button></div></div><script>
  $(document).ready(function() {
    new devsite.feedback.Widget({
        'product_id': '82128',
        'bucket': 'doubleclick-publishers',
        'context': '',
        'version': 'devsite-20180420-r00-rc00.default'
      },
      document.querySelectorAll('.devsite-feedback-button'),
      'en',
      document.querySelector('.devsite-site-mask'),
      document.querySelector('.devsite-feedback-dialog'),
      document.querySelector('.devsite-feedback-cancel'),
      document.querySelectorAll('.devsite-feedback-item a:not([href])')
    );
  });
  </script></div><script async defer src="//www.gstatic.com/feedback/api.js"></script><script src="https://developers.google.com/_static2/d7147bb846/jsi18n/"></script><script src="https://developers.google.com/_static/d7147bb846/js/script_foot_closure.js"></script><script src="https://developers.google.com/_static/d7147bb846/js/script_foot.js"></script><script>
        (function($) {
          
          devsite.devsite.Init($, {'ENABLE_BLOCKED_VIDEO_PLACEHOLDER': 0, 'SITE_NAME': 'devsite', 'FULL_SITE_SEARCH_ENABLED': 1, 'ENABLE_CLOUDTRACK': 0, 'VTAGS_ENABLED': 0, 'HISTORY_ENABLED': 1, 'VERSION_HASH': 'd7147bb846', 'SCRIPTSAFE_DOMAIN': 'google-developers.appspot.com', 'ENABLE_BLOCKED_LINK_TOOLTIP': 0, 'ALLOWED_HOSTS': ['.android.com', '.anvato.com', '.apigee.com', '.appspot.com', '.dialogflow.com', '.gonglchuangl.net', '.google.cn', '.google.com', '.googleplex.com', '.nest.com', '.openthread.io', '.openweave.io', '.orbitera.com', '.tensorflow.org'], 'BLOCK_RSS_FEEDS': 0},
                               '[]','en',
                               true, '',
                               {"f62218c009ec029abef196bba5aa34cf": true, "8de7a048f21618359bd37f5ce44be073": false, "098dafe57affddc137df300142652cfd": false, "8e03e230de0bd8a6fe173fdf172e8b3f": true, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "d169d485cf24243a263783dbe42029b1": true, "039e5d84b87fd75807ffb37b7f1bbf2c": true, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true}, '/doubleclick-publishers/',
                               'https://developers.google.com/');
        })(jQuery);

        
        devsite.localInit = function() {
          
        };

      </script><script>
      $('.devsite-utility-footer-language-select').each(function() {
        $(this).change(function(){$('.devsite-utility-footer-language').submit();});
      });
      </script></div><span id="devsite-request-elapsed" data-request-elapsed="285.999774933"></span></body></html>
