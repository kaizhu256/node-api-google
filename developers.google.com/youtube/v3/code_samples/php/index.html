





<!DOCTYPE html><html lang="en"
      class="chekov"><head><script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script><meta charset="utf-8"><meta name="xsrf_token" content="yKB-FInufLwAyrk2DthHq5itsImJfhbDhPXI9P-SaPQ6MTUyNDQ1ODMxNTgzOTEyMA" /><link rel="canonical" href="https://developers.google.com/youtube/v3/code_samples/php"><link rel="alternate" href="https://developers.google.com/youtube/v3/code_samples/php?hl=ja" hreflang="ja"><link rel="alternate" href="https://developers.google.com/youtube/v3/code_samples/php?hl=pt-br" hreflang="pt-br"><link rel="alternate" href="https://developers.google.com/youtube/v3/code_samples/php?hl=es" hreflang="es"><link rel="alternate" href="https://developers.google.com/youtube/v3/code_samples/php?hl=ko" hreflang="ko"><link rel="alternate" href="https://developers.google.com/youtube/v3/code_samples/php" hreflang="en"><link rel="alternate" href="https://developers.google.cn/youtube/v3/code_samples/php?hl=ja" hreflang="ja-cn"><link rel="alternate" href="https://developers.google.cn/youtube/v3/code_samples/php?hl=pt-br" hreflang="pt-br-cn"><link rel="alternate" href="https://developers.google.cn/youtube/v3/code_samples/php?hl=es" hreflang="es-cn"><link rel="alternate" href="https://developers.google.cn/youtube/v3/code_samples/php?hl=ko" hreflang="ko-cn"><link rel="alternate" href="https://developers.google.cn/youtube/v3/code_samples/php" hreflang="en-cn"><link rel="alternate" href="https://developers.google.com/youtube/v3/code_samples/php" hreflang="x-default"><link rel="shortcut icon" href="https://developers.google.com/_static/d7147bb846/images/favicon.png"><link rel="apple-touch-icon" href="https://developers.google.com/_static/d7147bb846/images/touch-icon.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet"
      
      href="//fonts.googleapis.com/css?family=Google+Sans:400|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700|Material+Icons"
      ><link rel="stylesheet"
        href="https://developers.google.com/_static/d7147bb846/css/devsite-youtube-red.css"><link rel="search"
        type="application/opensearchdescription+xml"
        title="Google Developers"
        href="https://developers.google.com/s/opensearch.xml"><script src="https://developers.google.com/_static/d7147bb846/js/jquery-bundle.js"></script><meta property="og:site_name" content="Google Developers"><meta property="og:type" content="website"><meta property="og:url" content="https://developers.google.com/youtube/v3/code_samples/php"><meta property="og:locale" content="en"><script>
    var ___gcfg = ___gcfg || {};
    ___gcfg.lang = 'en';
  </script><title>PHP Code Samples &nbsp;|&nbsp; YouTube Data API
      &nbsp;|&nbsp; Google Developers</title><meta property="og:title" content="PHP Code Samples &nbsp;|&nbsp; YouTube Data API
      &nbsp;|&nbsp; Google Developers"><meta property="og:image"
          content="https://developers.google.com/_static/d7147bb846/images/share/devsite-youtube-red.png"><meta property="og:image:secure_url"
          content="https://developers.google.com/_static/d7147bb846/images/share/devsite-youtube-red.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630">
  

  
    
    
    
    

















































  


  




















{# Vars for auth docs %}














<style>
  .deprecated {color: red}
</style></head><body class="
               devsite-doc-page
               
               
               
               devsite-header-no-upper-tabs
               "
        data-family="endorsed"
        id="top_of_page"><div class="devsite-wrapper"><div class="devsite-top-section-wrapper
            "><header class="devsite-top-section nocontent"><div class="devsite-top-logo-row-wrapper-wrapper"><div class="devsite-top-logo-row-wrapper"><div class="devsite-top-logo-row devsite-full-site-width"><button type="button" class="devsite-expand-section-nav devsite-header-icon-button
                                       button-flat material-icons gc-analytics-event"
                  data-category="Site-Wide Custom Events" data-label="Hamburger menu"></button><div class="devsite-product-name-wrapper"><a class="devsite-product-name-link gc-analytics-event"
       href="https://developers.google.com/youtube/"
       data-category="Site-Wide Custom Events"
       data-label="Project logo (header)"><img src="https://developers.google.com/site-assets/logo-youtube.svg" class="devsite-product-logo"
               alt="YouTube"></a><span class="devsite-product-name"><ul class="devsite-breadcrumb-list"><li class="devsite-breadcrumb-item"><a href="https://developers.google.com/youtube/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Upper Header"
       data-value="1">
    
    
      
        YouTube
      
    
    
    </a></li><li class="devsite-breadcrumb-item"><div class="devsite-breadcrumb-guillemet material-icons"></div><a href="https://developers.google.com/youtube/v3/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Upper Header"
       data-value="2">
    
    
      Data API
    
    
    </a></li></ul></span></div><div class="devsite-header-upper-tabs"></div><form class="devsite-search-form"
                action="https://developers.google.com/s/results/"
                method="GET"
                id="top-search"
                search-placeholder='Search'><div id="searchbox" class="devsite-searchbox"><input placeholder='Search'
         
         type="text"
         class="devsite-search-field devsite-search-query"
         name="q"
         value=""
         autocomplete="off"
         
         aria-label="Search box"><div class="devsite-search-image material-icons"></div></div><input type="hidden"
       name="p"
       id="search_project"
       value="/youtube/v3/"
       data-project-name="YouTube Data API"
       data-project-path="/youtube/v3/"
       data-query-match=""><input type="hidden" class="suggest-project" value="YouTube Data API" /><div class="suggest-project-metadata" data-home_url="/youtube/" data-path="/youtube/" data-name="YouTube" ></div><div class="suggest-project-metadata" data-home_url="/youtube/android/player/" data-path="/youtube/android/player/" data-name="YouTube Android Player API" ></div></form><a class="devsite-header-link devsite-top-button button gc-analytics-event"
               href="https://developers.google.com/products/"
               data-category="Site-Wide Custom Events"
               data-label="Site header link"
               track-type="navigateTo"
               track-name="all products"
               track-metadata-position="nav"><div class="devsite-header-link-label">All Products</div></a><button type="button" class="devsite-search-button devsite-header-icon-button button-flat
                                       material-icons"></button><a href="https://www.google.com/accounts/ServiceLogin?passive=true&continue=https%3A%2F%2Fdevelopers.google.com%2Fyoutube%2Fv3%2Fcode_samples%2Fphp%3Frefresh%3D1&service=ahsid"
   class="devsite-user-signin devsite-top-button button gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Sign in button">
  
  Sign in
</a></div></div></div><div class="devsite-collapsible-section"><div class="devsite-header-background devsite-full-site-width"><div class="devsite-doc-set-nav-row devsite-full-site-width"><nav class="devsite-doc-set-nav devsite-nav devsite-overflow-tabs-scroll-wrapper"><ul class="devsite-doc-set-nav-tab-list devsite-overflow-tabs-scroll"><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Home"
       >
        Home
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/getting-started"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Guides"
       >
        Guides
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/docs/"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Reference"
       >
        Reference
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/code_samples/"
         class="devsite-doc-set-nav-active devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         aria-label="Samples, selected"
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Samples"
       >
        Samples
      </a></li><li class="devsite-doc-set-nav-tab-container devsite-nav-tab
               "><a href="https://developers.google.com/youtube/v3/support"
         class=" devsite-nav-tab
                devsite-doc-set-nav-tab devsite-doc-set-nav-tab-link gc-analytics-event"
         
       
         data-category="Site-Wide Custom Events"
       
         data-label="Tab: Support"
       >
        Support
      </a></li><button type="button" id="devsite-feedback-project"
          class="devsite-feedback-button devsite-top-button gc-analytics-event"
          data-category="Site-Wide Custom Events" data-label="Send Feedback Button"
          track-type="feedback" track-name="sendFeedbackLink" track-metadata-position="header">
  
  Send feedback
  </button></ul></nav></div></div></div></header><script>
    if (window.jQuery) {
      $(document).ready(function() {
        if (window.devsite && window.devsite.search) {
          
          window.devsite.search.init('en')
        }
      });
    }
  </script></div><div id="gc-wrapper"itemscope itemtype="http://schema.org/Article"><input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;YouTube Data API&quot;, &quot;dimension5&quot;: &quot;en&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-24532603-1&quot;}"><script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "HK", "language": {"requested": "en", "served": "en"}, "projectName": "YouTube Data API", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>

      
        <div class="devsite-site-mask"></div>
        
  


<nav class="devsite-nav-responsive devsite-nav nocontent" tabindex="0">
  
  <div class="devsite-nav-responsive-tabs-panel">
    
      



<nav class="devsite-nav-responsive-tabs devsite-nav">
  <ul class="devsite-nav-list">
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/youtube/v3/"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Home">
        Home
      </a>
      
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/youtube/v3/getting-started?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Guides">
        Guides
      </a>
      
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/youtube/v3/docs/?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Reference">
        Reference
      </a>
      
      
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <span class="devsite-nav-responsive-forward devsite-nav-responsive-tab devsite-nav-title
                   devsite-nav-active gc-analytics-event"
            data-category="Site-Wide Custom Events" data-label="Responsive Tab: Samples"
            tabindex="0">
        Samples
      </span>
    
    </li>
  
    <li class="devsite-nav-item devsite-nav-item-heading">
    
      <a 
           href="https://developers.google.com/youtube/v3/support?nav=true"
         
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event
                "
         data-category="Site-Wide Custom Events" data-label="Responsive Tab: Support">
        Support
      </a>
      
      
    
    </li>
  
  
    <li class="devsite-nav-item devsite-nav-item-heading">
      <a href="https://developers.google.com/products/"
         class="devsite-nav-responsive-tab devsite-nav-title gc-analytics-event"
         data-category="Site-Wide Custom Events"
         data-label="Responsive Tab: all_products">
        All Products
      </a>
    </li>
  
  </ul>
</nav>


    
  </div>
  
  
  <div class="devsite-nav-responsive-sidebar-panel">
    
    <div class="devsite-nav-responsive-back" tabindex="0"></div>
    
    <nav class="devsite-nav-responsive-sidebar"></nav>
  </div>
  
  
</nav>


        <div class="devsite-main-content clearfix">

        
        

        
  
  
    
    
      
  <nav class="devsite-section-nav devsite-nav nocontent">
    <ul class="devsite-nav-list"><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/" class="devsite-nav-title">Index</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/apps-script" class="devsite-nav-title">Apps Script</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/go" class="devsite-nav-title">Go</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/java" class="devsite-nav-title">Java</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/javascript" class="devsite-nav-title">JavaScript</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/dotnet" class="devsite-nav-title">.NET</a></li><li class="devsite-nav-item devsite-nav-active"><a href="https://developers.google.com/youtube/v3/code_samples/php" class="devsite-nav-title">PHP</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/python" class="devsite-nav-title">Python</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/python_appengine" class="devsite-nav-title">Python on App Engine</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/ruby" class="devsite-nav-title">Ruby</a></li><li class="devsite-nav-item devsite-nav-item-heading"><span class="devsite-nav-title devsite-nav-title-no-path" aria-label="Tools, click to expand/collapse" role="link">Tools</span><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/code_snippets" class="devsite-nav-title">Data API Code Snippets</a></li><li class="devsite-nav-item"><a href="https://developers.google.com/youtube/v3/code_samples/code_snippet_instructions" class="devsite-nav-title">Code Snippet Tool Instructions</a></li></li></ul>
  </nav>

    

    
  <nav class="devsite-page-nav devsite-nav"></nav>


      <article class="devsite-article">
        <article class="devsite-article-inner">
  
          
  



  
  <nav class="devsite-breadcrumb-nav devsite-nav">
    


<ul class="devsite-breadcrumb-list">
  
  <li class="devsite-breadcrumb-item">
    
    
    <a href="https://developers.google.com/products/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="1">
    
    
      Products
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.com/youtube/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="2">
    
    
      YouTube
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.com/youtube/v3/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="3">
    
    
      Data API
    
    
    </a>
    
  </li>
  
  <li class="devsite-breadcrumb-item">
    
    
    <div class="devsite-breadcrumb-guillemet material-icons"></div>
    
    
    <a href="https://developers.google.com/youtube/v3/code_samples/" class="devsite-breadcrumb-link gc-analytics-event"
       data-category="Site-Wide Custom Events" data-label="Breadcrumbs"
       data-value="4">
    
    
      Samples
    
    
    </a>
    
  </li>
  
</ul>

  </nav>
  
  
  <h1 itemprop="name" class="devsite-page-title">
    PHP Code Samples
  </h1>
  
  
  <nav class="devsite-page-nav-embedded devsite-nav"></nav>
  
  <div class="devsite-article-body clearfix
            "
       itemprop="articleBody">
    

<p>The following code samples, which use the <a href="https://developers.google.com/api-client-library/php/">Google APIs Client Library for <span class="notranslate">PHP</span></a>, are available for the <span class="notranslate">YouTube Data API</span>. You can download these code samples from the <code>php</code> folder of the <a href="https://github.com/youtube/api-samples">YouTube APIs code sample repository on GitHub</a>.
</p>

<h2 id="add_a_channel_section">Add a channel section</h2>
<p>This sample calls the API's <code>channelSections.insert</code> method to create channel sections.
The code accepts a number of command line arguments that let you specify the section's type, display style, title, position,
and content.<br><br>
This sample also updates the channel's
<code><a href="https://developers.google.com/youtube/v3/docs/channels#brandingSettings.channel.showBrowseView">brandingSettings.channel.showBrowseView</a></code>
property so that the channel displays content in a browse view (rather than a feed view). A channel's sections are only
visible if the channel displays content in a browse view.<br><br>More information on channel sections is available in the
<a href="https://support.google.com/youtube/answer/3027787">YouTube Help Center</a>.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample creates a channel section by :
 *
 * 1. Getting the active user&#39;s channel branding settings via &quot;channels.list&quot; method.
 * 2. Updating the active user&#39;s channel to show &quot;browse view&quot; via &quot;channel.update&quot; method.
 * 3. Creating a channel section in the active user&#39;s channel via &quot;channelSections-&gt;insert&quot; method.
 *
 * @author Ibrahim Ulukaya
*/

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists($file = __DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

// Valid section types.
$SECTION_TYPES = array(&quot;allPlaylists&quot;, &quot;completedEvents&quot;, &quot;likedPlaylists&quot;,
  &quot;likes&quot;, &quot;liveEvents&quot;, &quot;multipleChannels&quot;, &quot;multiplePlaylists&quot;,
  &quot;popularUploads&quot;, &quot;recentActivity&quot;, &quot;recentPosts&quot;, &quot;recentUploads&quot;,
  &quot;singlePlaylist&quot;, &quot;upcomingEvents&quot;);

// Valid section styles.
$SECTION_STYLES = array(&quot;horizontalRow&quot;, &quot;verticalList&quot;);

// Replace with section title of your choice.
$SECTION_TITLE = &#39;YOUR_SECTION_TITLE&#39;;

// The section&#39;s position on the channel page. This property uses a 0-based index.
// If you do not specify a value for this property when inserting a channel section,
// the default behavior is to display the new section last.
$SECTION_POSITION = 0;

// A list of playlist IDs that will be featured in a channel section.
$PLAYLISTS = &#39;&#39;;

// A list of channel IDs that will be  featured in a channel section.
$CHANNELS = &#39;&#39;;

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  try {

    /*
     * Before channel shelves will appear on your channel&#39;s web page, browse
     * view needs to be enabled. If you know that your channel already has
     * it enabled, or if you want to add a number of sections before enabling it,
     * you can skip the call to enable_browse_view().
     */

    // Call the YouTube Data API&#39;s channels.list method to retrieve your channel.
    $listResponse = $youtube-&gt;channels-&gt;listChannels(&#39;brandingSettings&#39;, array(&#39;mine&#39; =&gt; true));
    $channel = $listResponse[&#39;items&#39;][0];
    $channel[&#39;brandingSettings&#39;][&#39;channel&#39;][&#39;showBrowseView&#39;] = true;

    // Call the YouTube Data API&#39;s channels.update method to update your channel.
    $updateResponse = $youtube-&gt;channels-&gt;update(&#39;brandingSettings&#39;, $channel);

    // Create a channel section snippet object with type, style, title and position.
    $channelSectionSnippet = new Google_Service_YouTube_ChannelSectionSnippet();
    $channelSectionSnippet-&gt;setType($SECTION_TYPES[0]);
    $channelSectionSnippet-&gt;setStyle($SECTION_STYLES[0]);
    $channelSectionSnippet-&gt;setTitle($SECTION_TITLE);
    $channelSectionSnippet-&gt;setPosition($SECTION_POSITION);

    // Create a channel section contentDetails object with channels and playlists.
    $channelSectionContentDetails = new Google_Service_YouTube_ChannelSectionContentDetails();
    $channelSectionContentDetails-&gt;setChannels($CHANNELS);
    $channelSectionContentDetails-&gt;setPlaylists($PLAYLISTS);

    // Create a channel section with snippet and contentDetails.
    $channelSection = new Google_Service_YouTube_ChannelSection();
    $channelSection-&gt;setSnippet($channelSectionSnippet);
    $channelSection-&gt;setContentDetails($channelSectionContentDetails);

    // Call the YouTube Data API&#39;s channelSections.insert method to create a channel section.
    $insertResponse = $youtube-&gt;channelSections-&gt;insert(&#39;snippet,contentDetails&#39;, $channelSection);

    $htmlBody = &quot;&lt;h2&gt;Section Created&lt;/h2&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s &quot;%s&quot;&lt;/li&gt;&#39;,
        $insertResponse[&#39;id&#39;], $insertResponse[&#39;snippet&#39;][&#39;title&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h3&gt;with channels&lt;/h3&gt;&lt;ul&gt;&quot;;
    foreach ($insertResponse[&#39;contentDetails&#39;][&#39;channels&#39;] as $channel) {
      $channels .= sprintf(&#39;&lt;li&gt;%s&lt;/li&gt;&#39;, $channel);
    }
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h3&gt;with playlists&lt;/h3&gt;&lt;ul&gt;&quot;;
    foreach ($insertResponse[&#39;contentDetails&#39;][&#39;playlists&#39;] as $playlist) {
      $channels .= sprintf(&#39;&lt;li&gt;%s&lt;/li&gt;&#39;, $playlist);
    }
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

  } catch (Google_Service_Exception $e) {
    $htmlBody = sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody = sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
 }
    ?&gt;

    &lt;!doctype html&gt;
    &lt;html&gt;
    &lt;head&gt;
    &lt;title&gt;Section Created&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;?=$htmlBody?&gt;
    &lt;/body&gt;
    &lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/add_channel_section.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/add_channel_section.php">add_channel_section.php</a></div></pre>

<h2 id="add_a_channel_subscription">Add a channel subscription</h2>
<p>This sample calls the API's <code>subscriptions.insert</code> method to add a subscription to a specified
channel.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  $htmlBody = &#39;&#39;;
  try {
    // This code subscribes the authenticated user to the specified channel.

    // Identify the resource being subscribed to by specifying its channel ID
    // and kind.
    $resourceId = new Google_Service_YouTube_ResourceId();
    $resourceId-&gt;setChannelId(&#39;UCtVd0c0tGXuTSbU5d8cSBUg&#39;);
    $resourceId-&gt;setKind(&#39;youtube#channel&#39;);

    // Create a snippet object and set its resource ID.
    $subscriptionSnippet = new Google_Service_YouTube_SubscriptionSnippet();
    $subscriptionSnippet-&gt;setResourceId($resourceId);

    // Create a subscription request that contains the snippet object.
    $subscription = new Google_Service_YouTube_Subscription();
    $subscription-&gt;setSnippet($subscriptionSnippet);

    // Execute the request and return an object containing information
    // about the new subscription.
    $subscriptionResponse = $youtube-&gt;subscriptions-&gt;insert(&#39;id,snippet&#39;,
        $subscription, array());

    $htmlBody .= &quot;&lt;h3&gt;Subscription&lt;/h3&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s (%s)&lt;/li&gt;&#39;,
        $subscriptionResponse[&#39;snippet&#39;][&#39;title&#39;],
        $subscriptionResponse[&#39;id&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user has not authorized the application, start the OAuth 2.0 flow.
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Returned Subscription&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/add_subscription.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/add_subscription.php">add_subscription.php</a></div></pre>

<h2 id="create_a_playlist">Create a playlist</h2>
<p>This sample calls the API's <code>playlists.insert</code> method to create a private playlist owned by the
channel authorizing the request.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  try {
    // This code creates a new, private playlist in the authorized user&#39;s
    // channel and adds a video to the playlist.

    // 1. Create the snippet for the playlist. Set its title and description.
    $playlistSnippet = new Google_Service_YouTube_PlaylistSnippet();
    $playlistSnippet-&gt;setTitle(&#39;Test Playlist  &#39; . date(&quot;Y-m-d H:i:s&quot;));
    $playlistSnippet-&gt;setDescription(&#39;A private playlist created with the YouTube API v3&#39;);

    // 2. Define the playlist&#39;s status.
    $playlistStatus = new Google_Service_YouTube_PlaylistStatus();
    $playlistStatus-&gt;setPrivacyStatus(&#39;private&#39;);

    // 3. Define a playlist resource and associate the snippet and status
    // defined above with that resource.
    $youTubePlaylist = new Google_Service_YouTube_Playlist();
    $youTubePlaylist-&gt;setSnippet($playlistSnippet);
    $youTubePlaylist-&gt;setStatus($playlistStatus);

    // 4. Call the playlists.insert method to create the playlist. The API
    // response will contain information about the new playlist.
    $playlistResponse = $youtube-&gt;playlists-&gt;insert(&#39;snippet,status&#39;,
        $youTubePlaylist, array());
    $playlistId = $playlistResponse[&#39;id&#39;];

    // 5. Add a video to the playlist. First, define the resource being added
    // to the playlist by setting its video ID and kind.
    $resourceId = new Google_Service_YouTube_ResourceId();
    $resourceId-&gt;setVideoId(&#39;SZj6rAYkYOg&#39;);
    $resourceId-&gt;setKind(&#39;youtube#video&#39;);

    // Then define a snippet for the playlist item. Set the playlist item&#39;s
    // title if you want to display a different value than the title of the
    // video being added. Add the resource ID and the playlist ID retrieved
    // in step 4 to the snippet as well.
    $playlistItemSnippet = new Google_Service_YouTube_PlaylistItemSnippet();
    $playlistItemSnippet-&gt;setTitle(&#39;First video in the test playlist&#39;);
    $playlistItemSnippet-&gt;setPlaylistId($playlistId);
    $playlistItemSnippet-&gt;setResourceId($resourceId);

    // Finally, create a playlistItem resource and add the snippet to the
    // resource, then call the playlistItems.insert method to add the playlist
    // item.
    $playlistItem = new Google_Service_YouTube_PlaylistItem();
    $playlistItem-&gt;setSnippet($playlistItemSnippet);
    $playlistItemResponse = $youtube-&gt;playlistItems-&gt;insert(
        &#39;snippet,contentDetails&#39;, $playlistItem, array());

    $htmlBody .= &quot;&lt;h3&gt;New Playlist&lt;/h3&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s (%s)&lt;/li&gt;&#39;,
        $playlistResponse[&#39;snippet&#39;][&#39;title&#39;],
        $playlistResponse[&#39;id&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h3&gt;New PlaylistItem&lt;/h3&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s (%s)&lt;/li&gt;&#39;,
        $playlistItemResponse[&#39;snippet&#39;][&#39;title&#39;],
        $playlistItemResponse[&#39;id&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

  } catch (Google_Service_Exception $e) {
    $htmlBody = sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody = sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;New Playlist&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/playlist_updates.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/playlist_updates.php">playlist_updates.php</a></div></pre>

<h2 id="create_and_manage_youtube_video_caption_tracks">Create and manage YouTube video caption tracks</h2>
<p>This sample demonstrates how to use the following API methods to create and manage YouTube video caption
tracks:<br>
<ul>
<li>It calls the <code>captions.insert</code> method with the <code>isDraft</code> parameter set to <code>true</code>
to upload a caption track in draft status.</li>
<li>It calls the <code>captions.list</code> method with the <code>videoId</code> parameter to retrieve video caption
tracks.</li>
<li>It calls the <code>captions.update</code> method with the caption in the request body to update a caption track.</li>
<li>It calls the <code>captions.download</code> method to download the caption track.</li>
<li>It calls the <code>captions.delete</code> method to delete the caption track, using the <code>id</code> parameter to
identify the caption track.</li>
</ul></p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample creates and manages caption tracks by:
 *
 * 1. Uploading a caption track for a video via &quot;captions.insert&quot; method.
 * 2. Getting the caption tracks for a video via &quot;captions.list&quot; method.
 * 3. Updating an existing caption track via &quot;captions.update&quot; method.
 * 4. Download a caption track via &quot;captions.download&quot; method.
 * 5. Deleting an existing caption track via &quot;captions.delete&quot; method.
 *
 * @author Ibrahim Ulukaya
 */

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

$htmlBody = &lt;&lt;&lt;END
&lt;form method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;
  &lt;div&gt;
    Action:
    &lt;select id=&quot;action&quot; name=&quot;action&quot;&gt;
      &lt;option value=&quot;upload&quot;&gt;Upload - Fill in: video ID, caption track name, language and file&lt;/option&gt;
      &lt;option value=&quot;list&quot;&gt;List - Fill in: video ID&lt;/option&gt;
      &lt;option value=&quot;update&quot;&gt;Update - Fill in: caption track ID, (optional - caption track file)&lt;/option&gt;
      &lt;option value=&quot;download&quot;&gt;Download - Fill in: caption track ID&lt;/option&gt;
      &lt;option value=&quot;delete&quot;&gt;Delete - Fill in: caption track ID&lt;/option&gt;
      &lt;option value=&quot;all&quot;&gt;All - Fill in: video ID, caption track name, language and file&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Video ID: &lt;input type=&quot;text&quot; id=&quot;videoId&quot; name=&quot;videoId&quot; placeholder=&quot;Enter Video ID&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Caption Track Name: &lt;input type=&quot;text&quot; id=&quot;captionName&quot; name=&quot;captionName&quot; placeholder=&quot;Enter Caption Track Name&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Caption Track Language: &lt;input type=&quot;text&quot; id=&quot;captionLanguage&quot; name=&quot;captionLanguage&quot; placeholder=&quot;Enter Caption Track Language&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    File: &lt;input type=&quot;file&quot; id =&quot;captionFile&quot; name=&quot;captionFile&quot; accept=&quot;*/*&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Caption Track Id: &lt;input type=&quot;text&quot; id=&quot;captionId&quot; name=&quot;captionId&quot; placeholder=&quot;Enter Caption Track ID&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;input type=&quot;submit&quot; value=&quot;GO!&quot;&gt;
&lt;/form&gt;
END;

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);

/*
 * This OAuth 2.0 access scope allows for full read/write access to the
 * authenticated user&#39;s account and requires requests to use an SSL connection.
 */
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube.force-ssl&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  // This code executes if the user enters an action in the form
  // and submits the form. Otherwise, the page displays the form above.
  if ($_SERVER[&#39;REQUEST_METHOD&#39;] == &#39;POST&#39;) {
    $videoId = isset($_POST[&#39;videoId&#39;]) ? $_POST[&#39;videoId&#39;] : null;
    $captionFile = isset($_FILES[&#39;captionFile&#39;]) ? $_FILES[&#39;captionFile&#39;][&#39;tmp_name&#39;] : null;
    $captionName = isset($_POST[&#39;captionName&#39;]) ? $_POST[&#39;captionName&#39;] : null;
    $captionLanguage = isset($_POST[&#39;captionLanguage&#39;]) ? $_POST[&#39;captionLanguage&#39;] : null;
    $captionId = isset($_POST[&#39;captionId&#39;]) ? $_POST[&#39;captionId&#39;] : null;
    try {
      switch ($_POST[&#39;action&#39;]) {
        case &#39;upload&#39;:
          uploadCaption($youtube, $client, $videoId, $captionFile,
              $captionName, $captionLanguage, $htmlBody);
          break;
        case &#39;list&#39;:
          $captions = listCaptions($youtube, $videoId, $htmlBody);
          break;
        case &#39;update&#39;:
          updateCaption($youtube, $client, $captionId, $htmlBody, $captionFile);
          break;
        case &#39;download&#39;:
          downloadCaption($youtube, $captionId, $htmlBody);
          break;
        case &#39;delete&#39;:
          deleteCaption($youtube, $captionId, $htmlBody);
          break;
        default:
          # All the available methods are used in sequence just for the sake of an example.
          uploadCaption($youtube, $client, $videoId, $captionFile,
              $captionName, $captionLanguage, $htmlBody);

          $captions = listCaptions($youtube, $videoId, $htmlBody);

          if (empty($captions)) {
            $htmlBody .= &quot;&lt;h3&gt;Can&#39;t get video caption tracks.&lt;/h3&gt;&quot;;
          } else {
            $firstCaptionId = $captions[0][&#39;id&#39;];
            updateCaption($youtube, $client, $firstCaptionId, $htmlBody, null);
            downloadCaption($youtube, $firstCaptionId, $htmlBody);
            deleteCaption($youtube, $firstCaptionId, $htmlBody);
        }
      }
    } catch (Google_Service_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    } catch (Google_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    }
  }
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}

/**
 * Uploads a caption track in draft status that matches the API request parameters.
 * (captions.insert)
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param Google_Client $client Google client.
 * @param $videoId the YouTube video ID of the video for which the API should
 *  return caption tracks.
 * @param $captionLanguage language of the caption track.
 * @param $captionName name of the caption track.
 * @param $captionFile caption track binary file.
 * @param $htmlBody html body.
 */
function uploadCaption(Google_Service_YouTube $youtube, Google_Client $client, $videoId,
    $captionFile, $captionName, $captionLanguage, &amp;$htmlBody) {
    # Insert a video caption.
    # Create a caption snippet with video id, language, name and draft status.
    $captionSnippet = new Google_Service_YouTube_CaptionSnippet();
    $captionSnippet-&gt;setVideoId($videoId);
    $captionSnippet-&gt;setLanguage($captionLanguage);
    $captionSnippet-&gt;setName($captionName);

    # Create a caption with snippet.
    $caption = new Google_Service_YouTube_Caption();
    $caption-&gt;setSnippet($captionSnippet);

    // Specify the size of each chunk of data, in bytes. Set a higher value for
    // reliable connection as fewer chunks lead to faster uploads. Set a lower
    // value for better recovery on less reliable connections.
    $chunkSizeBytes = 1 * 1024 * 1024;

    // Setting the defer flag to true tells the client to return a request which can be called
    // with -&gt;execute(); instead of making the API call immediately.
    $client-&gt;setDefer(true);

    // Create a request for the API&#39;s captions.insert method to create and upload a caption.
    $insertRequest = $youtube-&gt;captions-&gt;insert(&quot;snippet&quot;, $caption);

    // Create a MediaFileUpload object for resumable uploads.
    $media = new Google_Http_MediaFileUpload(
        $client,
        $insertRequest,
        &#39;*/*&#39;,
        null,
        true,
        $chunkSizeBytes
    );
    $media-&gt;setFileSize(filesize($captionFile));


    // Read the caption file and upload it chunk by chunk.
    $status = false;
    $handle = fopen($captionFile, &quot;rb&quot;);
    while (!$status &amp;&amp; !feof($handle)) {
      $chunk = fread($handle, $chunkSizeBytes);
      $status = $media-&gt;nextChunk($chunk);
    }

    fclose($handle);

    // If you want to make other calls after the file upload, set setDefer back to false
    $client-&gt;setDefer(false);

    $htmlBody .= &quot;&lt;h2&gt;Inserted video caption track for&lt;/h2&gt;&lt;ul&gt;&quot;;
    $captionSnippet = $status[&#39;snippet&#39;];
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s(%s) in %s language, %s status.&lt;/li&gt;&#39;,
        $captionSnippet[&#39;name&#39;], $status[&#39;id&#39;], $captionSnippet[&#39;language&#39;],
        $captionSnippet[&#39;status&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
}

/**
 * Returns a list of caption tracks. (captions.listCaptions)
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $videoId The videoId parameter instructs the API to return the
 * caption tracks for the video specified by the video id.
 * @param $htmlBody - html body.
 */
function listCaptions(Google_Service_YouTube $youtube, $videoId, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s captions.list method to retrieve video caption tracks.
  $captions = $youtube-&gt;captions-&gt;listCaptions(&quot;snippet&quot;, $videoId);

  $htmlBody .= &quot;&lt;h3&gt;Video Caption Tracks&lt;/h3&gt;&lt;ul&gt;&quot;;
  foreach ($captions as $caption) {
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s(%s) in %s language&lt;/li&gt;&#39;, $caption[&#39;snippet&#39;][&#39;name&#39;],
        $caption[&#39;id&#39;],  $caption[&#39;snippet&#39;][&#39;language&#39;]);
  }
  $htmlBody .= &#39;&lt;/ul&gt;&#39;;

  return $captions;
}

/**
 * Updates a caption track&#39;s draft status to publish it.
 * Updates the track with a new binary file as well if it is present.  (captions.update)
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param Google_Client $client Google client.
 * @param string $captionId The id parameter specifies the caption ID for the resource
 * that is being updated. In a caption resource, the id property specifies the
 * caption track&#39;s ID.
 * @param $htmlBody - html body.
 * @param $captionFile caption track binary file.
 */
function updateCaption(Google_Service_YouTube $youtube, Google_Client $client,
    $captionId, &amp;$htmlBody, $captionFile) {
    // Modify caption&#39;s isDraft property to unpublish a caption track.
    $updateCaptionSnippet = new Google_Service_YouTube_CaptionSnippet();
    $updateCaptionSnippet-&gt;setIsDraft(true);

    # Create a caption with snippet.
    $updateCaption = new Google_Service_YouTube_Caption();
    $updateCaption-&gt;setSnippet($updateCaptionSnippet);
    $updateCaption-&gt;setId($captionId);

    if ($captionFile == &#39;&#39;)
    {
      // Call the YouTube Data API&#39;s captions.update method to update an existing caption track.
      $captionUpdateResponse = $youtube-&gt;captions-&gt;update(&quot;snippet&quot;, $updateCaption);

      $htmlBody .= &quot;&lt;h2&gt;Updated caption track&lt;/h2&gt;&lt;ul&gt;&quot;;
      $htmlBody .= sprintf(&#39;&lt;li&gt;%s(%s) draft status: %s&lt;/li&gt;&#39;,
          $captionUpdateResponse[&#39;snippet&#39;][&#39;name&#39;],
      $captionUpdateResponse[&#39;id&#39;],  $captionUpdateResponse[&#39;snippet&#39;][&#39;isDraft&#39;]);
      $htmlBody .= &#39;&lt;/ul&gt;&#39;;
    } else {
      // Specify the size of each chunk of data, in bytes. Set a higher value for
      // reliable connection as fewer chunks lead to faster uploads. Set a lower
      // value for better recovery on less reliable connections.
      $chunkSizeBytes = 1 * 1024 * 1024;

      // Setting the defer flag to true tells the client to return a request which can be called
      // with -&gt;execute(); instead of making the API call immediately.
      $client-&gt;setDefer(true);

      // Create a request for the YouTube Data API&#39;s captions.update method to update
      // an existing caption track.
      $captionUpdateRequest = $youtube-&gt;captions-&gt;update(&quot;snippet&quot;, $updateCaption);

      // Create a MediaFileUpload object for resumable uploads.
      $media = new Google_Http_MediaFileUpload(
          $client,
          $captionUpdateRequest,
          &#39;*/*&#39;,
          null,
          true,
          $chunkSizeBytes
      );
      $media-&gt;setFileSize(filesize($captionFile));

      // Read the caption file and upload it chunk by chunk.
      $status = false;
      $handle = fopen($captionFile, &quot;rb&quot;);
      while (!$status &amp;&amp; !feof($handle)) {
        $chunk = fread($handle, $chunkSizeBytes);
        $status = $media-&gt;nextChunk($chunk);
      }

      fclose($handle);

      // If you want to make other calls after the file upload, set setDefer back to false
      $client-&gt;setDefer(false);

      $htmlBody .= &quot;&lt;h2&gt;Updated caption track&lt;/h2&gt;&lt;ul&gt;&quot;;
      $htmlBody .= sprintf(&#39;&lt;li&gt;%s(%s) draft status: %s and updated the track with
          the new uploaded file.&lt;/li&gt;&#39;,
          $status[&#39;snippet&#39;][&#39;name&#39;], $status[&#39;id&#39;],  $status[&#39;snippet&#39;][&#39;isDraft&#39;]);
      $htmlBody .= &#39;&lt;/ul&gt;&#39;;
    }
}

/**
 * Downloads a caption track for a YouTube video. (captions.download)
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $captionId The id parameter specifies the caption ID for the resource
 * that is being downloaded. In a caption resource, the id property specifies the
 * caption track&#39;s ID.
 * @param $htmlBody - html body.
 */
function downloadCaption(Google_Service_YouTube $youtube, $captionId, &amp;$htmlBody) {
    // Call the YouTube Data API&#39;s captions.download method to download an existing caption.
    $captionResouce = $youtube-&gt;captions-&gt;download($captionId, array(
        &#39;tfmt&#39; =&gt; &quot;srt&quot;,
        &#39;alt&#39; =&gt; &quot;media&quot;
    ));

    $htmlBody .= &quot;&lt;h2&gt;Downloaded caption track&lt;/h2&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s&lt;/li&gt;&#39;,
      $captionResouce);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
}

/**
 * Deletes a caption track for a YouTube video. (captions.delete)
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $captionId The id parameter specifies the caption ID for the resource
 * that is being deleted. In a caption resource, the id property specifies the
 * caption track&#39;s ID.
 * @param $htmlBody - html body.
 */
function deleteCaption(Google_Service_YouTube $youtube, $captionId, &amp;$htmlBody) {
    // Call the YouTube Data API&#39;s captions.delete method to delete a caption.
    $youtube-&gt;captions-&gt;delete($captionId);

    $htmlBody .= &quot;&lt;h2&gt;Deleted caption track&lt;/h2&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s&lt;/li&gt;&#39;,$captionId);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Create and manage video caption tracks&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/captions.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/captions.php">captions.php</a></div></pre>

<h2 id="create_and_manage_comment_threads">Create and manage comment threads</h2>
<p>This sample demonstrates how to use the following API methods to create and manage top-level comments:<br>
<ul>
<li>It calls the <code>commentThreads.insert</code> method once with the <code>channelId</code> parameter to create a
channel comment and once with the <code>videoId</code> parameter to create a video comment.</li>
<li>It calls the <code>commentThreads.list</code> method once with the <code>channelId</code> parameter to retrieve
channel comments and once with the <code>videoId</code> parameter to retrieve video comments.</li>
<li>It calls the <code>commentThreads.update</code> method once to update a video comment and then again to update a
channel comment. In each case, the request body contains the <code>comment</code> resource being updated.</li>
</ul></p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample creates and manages top-level comments by:
 *
 * 1. Creating a top-level comments for a video and a channel via &quot;commentThreads.insert&quot; method.
 * 2. Getting the top-level comments for a video and a channel via &quot;commentThreads.list&quot; method.
 * 3. Updating an existing comments via &quot;commentThreads.update&quot; method.
 *
 * @author Ibrahim Ulukaya
 */

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();


/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

/* You can replace $VIDEO_ID with one of your videos&#39; id, channel id with your channel&#39;s id,
 * and text with the comment you want to be added.
 */
$VIDEO_ID = &#39;REPLACE_ME&#39;;
$CHANNEL_ID = &#39;REPLACE_ME&#39;;
$TEXT = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);

/*
 * This OAuth 2.0 access scope allows for full read/write access to the
 * authenticated user&#39;s account and requires requests to use an SSL connection.
 */
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube.force-ssl&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  try {
    # All the available methods are used in sequence just for the sake of an example.

    # Insert channel comment by omitting videoId.
    # Create a comment snippet with text.
    $commentSnippet = new Google_Service_YouTube_CommentSnippet();
    $commentSnippet-&gt;setTextOriginal($TEXT);

    # Create a top-level comment with snippet.
    $topLevelComment = new Google_Service_YouTube_Comment();
    $topLevelComment-&gt;setSnippet($commentSnippet);

    # Create a comment thread snippet with channelId and top-level comment.
    $commentThreadSnippet = new Google_Service_YouTube_CommentThreadSnippet();
    $commentThreadSnippet-&gt;setChannelId($CHANNEL_ID);
    $commentThreadSnippet-&gt;setTopLevelComment($topLevelComment);

    # Create a comment thread with snippet.
    $commentThread = new Google_Service_YouTube_CommentThread();
    $commentThread-&gt;setSnippet($commentThreadSnippet);

    // Call the YouTube Data API&#39;s commentThreads.insert method to create a comment.
    $channelCommentInsertResponse = $youtube-&gt;commentThreads-&gt;insert(&#39;snippet&#39;, $commentThread);


    # Insert video comment
    $commentThreadSnippet-&gt;setVideoId($VIDEO_ID);
    // Call the YouTube Data API&#39;s commentThreads.insert method to create a comment.
    $videoCommentInsertResponse = $youtube-&gt;commentThreads-&gt;insert(&#39;snippet&#39;, $commentThread);

    // Call the YouTube Data API&#39;s commentThreads.list method to retrieve video comment threads.
    $videoComments = $youtube-&gt;commentThreads-&gt;listCommentThreads(&#39;snippet&#39;, array(
        &#39;videoId&#39; =&gt; $VIDEO_ID,
        &#39;textFormat&#39; =&gt; &#39;plainText&#39;,
    ));

    if (empty($videoComments)) {
      $htmlBody .= &quot;&lt;h3&gt;Can\&#39;t get video comments.&lt;/h3&gt;&quot;;
    } else {
      $videoComments[0][&#39;snippet&#39;][&#39;topLevelComment&#39;][&#39;snippet&#39;][&#39;textOriginal&#39;] = &#39;updated&#39;;
      $videoCommentUpdateResponse = $youtube-&gt;commentThreads-&gt;update(&#39;snippet&#39;, $videoComments[0]);
    }

    // Call the YouTube Data API&#39;s commentThreads.list method to retrieve channel comment threads.
    $channelComments = $youtube-&gt;commentThreads-&gt;listCommentThreads(&#39;snippet&#39;, array(
        &#39;channelId&#39; =&gt; $CHANNEL_ID,
        &#39;textFormat&#39; =&gt; &#39;plainText&#39;,
    ));

    if (empty($channelComments)) {
      $htmlBody .= &quot;&lt;h3&gt;Can\&#39;t get channel comments.&lt;/h3&gt;&quot;;
    } else {
      $channelComments[0][&#39;snippet&#39;][&#39;topLevelComment&#39;][&#39;snippet&#39;][&#39;textOriginal&#39;] = &#39;updated&#39;;
      $channelCommentUpdateResponse = $youtube-&gt;commentThreads-&gt;update(&#39;snippet&#39;, $channelComments[0]);
    }

    $htmlBody .= &quot;&lt;h2&gt;Inserted channel comment for&lt;/h2&gt;&lt;ul&gt;&quot;;
    $comment = $channelCommentInsertResponse[&#39;snippet&#39;][&#39;topLevelComment&#39;];
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s: &quot;%s&quot;&lt;/li&gt;&#39;,
        $comment[&#39;snippet&#39;][&#39;authorDisplayName&#39;], $comment[&#39;snippet&#39;][&#39;textDisplay&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h2&gt;Inserted video comment for&lt;/h2&gt;&lt;ul&gt;&quot;;
    $comment = $videoCommentInsertResponse[&#39;snippet&#39;][&#39;topLevelComment&#39;];
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s: &quot;%s&quot;&lt;/li&gt;&#39;,
        $comment[&#39;snippet&#39;][&#39;authorDisplayName&#39;], $comment[&#39;snippet&#39;][&#39;textDisplay&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h3&gt;Video Comments&lt;/h3&gt;&lt;ul&gt;&quot;;
    foreach ($videoComments as $comment) {
      $htmlBody .= sprintf(&#39;&lt;li&gt;%s&lt;/li&gt;&#39;, $comment[&#39;snippet&#39;][&#39;topLevelComment&#39;][&#39;snippet&#39;][&#39;textOriginal&#39;]);
    }
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h3&gt;Channel Comments&lt;/h3&gt;&lt;ul&gt;&quot;;
    foreach ($channelComments as $comment) {
      $htmlBody .= sprintf(&#39;&lt;li&gt;%s&lt;/li&gt;&#39;, $comment[&#39;snippet&#39;][&#39;topLevelComment&#39;][&#39;snippet&#39;][&#39;textOriginal&#39;]);
    }
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h2&gt;Updated channel comment for&lt;/h2&gt;&lt;ul&gt;&quot;;
    $comment = $videoCommentUpdateResponse[&#39;snippet&#39;][&#39;topLevelComment&#39;];
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s: &quot;%s&quot;&lt;/li&gt;&#39;,
        $comment[&#39;snippet&#39;][&#39;authorDisplayName&#39;], $comment[&#39;snippet&#39;][&#39;textDisplay&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h2&gt;Updated video comment for&lt;/h2&gt;&lt;ul&gt;&quot;;
    $comment = $channelCommentUpdateResponse[&#39;snippet&#39;][&#39;topLevelComment&#39;];
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s: &quot;%s&quot;&lt;/li&gt;&#39;,
        $comment[&#39;snippet&#39;][&#39;authorDisplayName&#39;], $comment[&#39;snippet&#39;][&#39;textDisplay&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Insert, list and update top-level comments&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/comment_threads.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/comment_threads.php">comment_threads.php</a></div></pre>

<h2 id="create_and_manage_comments">Create and manage comments</h2>
<p>The following code sample demonstrates how to use the following API methods to create and manage comments:<br>
<ul>
<li>It calls the <code>commentThreads.list</code> method with the <code>videoId</code> parameter set to retrieve comments
for a video.</li>
<li>It calls the <code>comments.insert</code> method with the <code>parentId</code> parameter set to reply to an existing
comment.</li>
<li>It calls the <code>comments.list</code> method with the <code>parentId</code> parameter to retrieve the comments in the
thread.</li>
<li>It calls the <code>comments.update</code> method with comment in the request body to update a comment.</li>
<li>It calls the <code>comments.setModerationStatus</code> method to set the moderation status of the comment, the
<code>comments.markAsSpam</code> method to mark the comment as spam, and the <code>comments.delete</code> method to
delete the comment, using the <code>id</code> parameter to identify the comment.</li>
</ul></p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample creates and manages comments by:
 *
 * 1. Getting the top-level comments for a video via &quot;commentThreads.list&quot; method.
 * 2. Replying to a comment thread via &quot;comments.insert&quot; method.
 * 3. Getting comment replies via &quot;comments.list&quot; method.
 * 4. Updating an existing comment via &quot;comments.update&quot; method.
 * 5. Sets moderation status of an existing comment via &quot;comments.setModerationStatus&quot; method.
 * 6. Marking a comment as spam via &quot;comments.markAsSpam&quot; method.
 * 7. Deleting an existing comment via &quot;comments.delete&quot; method.
 *
 * @author Ibrahim Ulukaya
 */

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();


/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

/* You can replace $VIDEO_ID with one of your videos&#39; id, and text with the
 *  comment you want to be added.
 */
$VIDEO_ID = &#39;REPLACE_ME&#39;;
$TEXT = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);

/*
 * This OAuth 2.0 access scope allows for full read/write access to the
 * authenticated user&#39;s account and requires requests to use an SSL connection.
 */
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube.force-ssl&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  try {
    # All the available methods are used in sequence just for the sake of an example.

    // Call the YouTube Data API&#39;s commentThreads.list method to retrieve video comment threads.
    $videoCommentThreads = $youtube-&gt;commentThreads-&gt;listCommentThreads(&#39;snippet&#39;, array(
    &#39;videoId&#39; =&gt; $VIDEO_ID,
    &#39;textFormat&#39; =&gt; &#39;plainText&#39;,
    ));

    $parentId = $videoCommentThreads[0][&#39;id&#39;];

    # Create a comment snippet with text.
    $commentSnippet = new Google_Service_YouTube_CommentSnippet();
    $commentSnippet-&gt;setTextOriginal($TEXT);
    $commentSnippet-&gt;setParentId($parentId);

    # Create a comment with snippet.
    $comment = new Google_Service_YouTube_Comment();
    $comment-&gt;setSnippet($commentSnippet);

    # Call the YouTube Data API&#39;s comments.insert method to reply to a comment.
    # (If the intention is to create a new top-level comment, commentThreads.insert
    # method should be used instead.)
    $commentInsertResponse = $youtube-&gt;comments-&gt;insert(&#39;snippet&#39;, $comment);


    // Call the YouTube Data API&#39;s comments.list method to retrieve existing comment replies.
    $videoComments = $youtube-&gt;comments-&gt;listComments(&#39;snippet&#39;, array(
        &#39;parentId&#39; =&gt; $parentId,
        &#39;textFormat&#39; =&gt; &#39;plainText&#39;,
    ));

    if (empty($videoComments)) {
      $htmlBody .= &quot;&lt;h3&gt;Can\&#39;t get video comments.&lt;/h3&gt;&quot;;
    } else {
      $videoComments[0][&#39;snippet&#39;][&#39;textOriginal&#39;] = &#39;updated&#39;;

      // Call the YouTube Data API&#39;s comments.update method to update an existing comment.
      $videoCommentUpdateResponse = $youtube-&gt;comments-&gt;update(&#39;snippet&#39;, $videoComments[0]);

      // Call the YouTube Data API&#39;s comments.setModerationStatus method to set moderation
      // status of an existing comment.
      $youtube-&gt;comments-&gt;setModerationStatus($videoComments[0][&#39;id&#39;], &#39;published&#39;);

      // Call the YouTube Data API&#39;s comments.markAsSpam method to mark an existing comment as spam.
      $youtube-&gt;comments-&gt;markAsSpam($videoComments[0][&#39;id&#39;]);

      // Call the YouTube Data API&#39;s comments.delete method to delete an existing comment.
      $youtube-&gt;comments-&gt;delete($videoComments[0][&#39;id&#39;]);
    }

    $htmlBody .= &quot;&lt;h3&gt;Video Comment Replies&lt;/h3&gt;&lt;ul&gt;&quot;;
    foreach ($videoComments as $comment) {
      $htmlBody .= sprintf(&#39;&lt;li&gt;%s: &quot;%s&quot;&lt;/li&gt;&#39;, $comment[&#39;snippet&#39;][&#39;authorDisplayName&#39;],
          $comment[&#39;snippet&#39;][&#39;textOriginal&#39;]);
    }
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h2&gt;Replied to a comment for&lt;/h2&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s: &quot;%s&quot;&lt;/li&gt;&#39;,
        $commentInsertResponse[&#39;snippet&#39;][&#39;authorDisplayName&#39;],
        $commentInsertResponse[&#39;snippet&#39;][&#39;textDisplay&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

    $htmlBody .= &quot;&lt;h2&gt;Updated comment for&lt;/h2&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s: &quot;%s&quot;&lt;/li&gt;&#39;,
        $videoCommentUpdateResponse[&#39;snippet&#39;][&#39;authorDisplayName&#39;],
        $videoCommentUpdateResponse[&#39;snippet&#39;][&#39;textDisplay&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
    &lt;h3&gt;Authorization Required&lt;/h3&gt;
    &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Insert, list, update, moderate, mark and delete comments.&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/comment_handling.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/comment_handling.php">comment_handling.php</a></div></pre>

<h2 id="retrieve_my_uploads">Retrieve my uploads</h2>
<p>This sample calls the API's <code>playlistItems.list</code> method to retrieve a list of videos uploaded
to the channel associated with the request. The code also calls the <code>channels.list</code> method with the
<code>mine</code> parameter set to <code>true</code> to retrieve the playlist ID that identifies the channel's uploaded
videos.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
  FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  try {
    // Call the channels.list method to retrieve information about the
    // currently authenticated user&#39;s channel.
    $channelsResponse = $youtube-&gt;channels-&gt;listChannels(&#39;contentDetails&#39;, array(
      &#39;mine&#39; =&gt; &#39;true&#39;,
    ));

    $htmlBody = &#39;&#39;;
    foreach ($channelsResponse[&#39;items&#39;] as $channel) {
      // Extract the unique playlist ID that identifies the list of videos
      // uploaded to the channel, and then call the playlistItems.list method
      // to retrieve that list.
      $uploadsListId = $channel[&#39;contentDetails&#39;][&#39;relatedPlaylists&#39;][&#39;uploads&#39;];

      $playlistItemsResponse = $youtube-&gt;playlistItems-&gt;listPlaylistItems(&#39;snippet&#39;, array(
        &#39;playlistId&#39; =&gt; $uploadsListId,
        &#39;maxResults&#39; =&gt; 50
      ));

      $htmlBody .= &quot;&lt;h3&gt;Videos in list $uploadsListId&lt;/h3&gt;&lt;ul&gt;&quot;;
      foreach ($playlistItemsResponse[&#39;items&#39;] as $playlistItem) {
        $htmlBody .= sprintf(&#39;&lt;li&gt;%s (%s)&lt;/li&gt;&#39;, $playlistItem[&#39;snippet&#39;][&#39;title&#39;],
          $playlistItem[&#39;snippet&#39;][&#39;resourceId&#39;][&#39;videoId&#39;]);
      }
      $htmlBody .= &#39;&lt;/ul&gt;&#39;;
    }
  } catch (Google_Service_Exception $e) {
    $htmlBody = sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
      htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody = sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
      htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;My Uploads&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;?=$htmlBody?&gt;
  &lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/my_uploads.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/my_uploads.php">my_uploads.php</a></div></pre>

<h2 id="search_by_keyword">Search by keyword</h2>
<p>This sample calls the API's <code>search.list</code> method to retrieve search results associated with
a particular keyword.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;

$htmlBody = &lt;&lt;&lt;END
&lt;form method=&quot;GET&quot;&gt;
  &lt;div&gt;
    Search Term: &lt;input type=&quot;search&quot; id=&quot;q&quot; name=&quot;q&quot; placeholder=&quot;Enter Search Term&quot;&gt;
  &lt;/div&gt;
  &lt;div&gt;
    Max Results: &lt;input type=&quot;number&quot; id=&quot;maxResults&quot; name=&quot;maxResults&quot; min=&quot;1&quot; max=&quot;50&quot; step=&quot;1&quot; value=&quot;25&quot;&gt;
  &lt;/div&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Search&quot;&gt;
&lt;/form&gt;
END;

// This code will execute if the user entered a search query in the form
// and submitted the form. Otherwise, the page displays the form above.
if (isset($_GET[&#39;q&#39;]) &amp;&amp; isset($_GET[&#39;maxResults&#39;])) {
  /*
   * Set $DEVELOPER_KEY to the &quot;API key&quot; value from the &quot;Access&quot; tab of the
   * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
   * Please ensure that you have enabled the YouTube Data API for your project.
   */
  $DEVELOPER_KEY = &#39;REPLACE_ME&#39;;

  $client = new Google_Client();
  $client-&gt;setDeveloperKey($DEVELOPER_KEY);

  // Define an object that will be used to make all API requests.
  $youtube = new Google_Service_YouTube($client);

  $htmlBody = &#39;&#39;;
  try {

    // Call the search.list method to retrieve results matching the specified
    // query term.
    $searchResponse = $youtube-&gt;search-&gt;listSearch(&#39;id,snippet&#39;, array(
      &#39;q&#39; =&gt; $_GET[&#39;q&#39;],
      &#39;maxResults&#39; =&gt; $_GET[&#39;maxResults&#39;],
    ));

    $videos = &#39;&#39;;
    $channels = &#39;&#39;;
    $playlists = &#39;&#39;;

    // Add each result to the appropriate list, and then display the lists of
    // matching videos, channels, and playlists.
    foreach ($searchResponse[&#39;items&#39;] as $searchResult) {
      switch ($searchResult[&#39;id&#39;][&#39;kind&#39;]) {
        case &#39;youtube#video&#39;:
          $videos .= sprintf(&#39;&lt;li&gt;%s (%s)&lt;/li&gt;&#39;,
              $searchResult[&#39;snippet&#39;][&#39;title&#39;], $searchResult[&#39;id&#39;][&#39;videoId&#39;]);
          break;
        case &#39;youtube#channel&#39;:
          $channels .= sprintf(&#39;&lt;li&gt;%s (%s)&lt;/li&gt;&#39;,
              $searchResult[&#39;snippet&#39;][&#39;title&#39;], $searchResult[&#39;id&#39;][&#39;channelId&#39;]);
          break;
        case &#39;youtube#playlist&#39;:
          $playlists .= sprintf(&#39;&lt;li&gt;%s (%s)&lt;/li&gt;&#39;,
              $searchResult[&#39;snippet&#39;][&#39;title&#39;], $searchResult[&#39;id&#39;][&#39;playlistId&#39;]);
          break;
      }
    }

    $htmlBody .= &lt;&lt;&lt;END
    &lt;h3&gt;Videos&lt;/h3&gt;
    &lt;ul&gt;$videos&lt;/ul&gt;
    &lt;h3&gt;Channels&lt;/h3&gt;
    &lt;ul&gt;$channels&lt;/ul&gt;
    &lt;h3&gt;Playlists&lt;/h3&gt;
    &lt;ul&gt;$playlists&lt;/ul&gt;
END;
  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
      htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
      htmlspecialchars($e-&gt;getMessage()));
  }
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;YouTube Search&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;?=$htmlBody?&gt;
  &lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/search.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/search.php">search.php</a></div></pre>

<h2 id="search_by_location">Search by location</h2>
<p>This sample calls the API's <code>search.list</code> method with the <code>type</code>, <code>q</code>,
<code>location</code> and <code>locationRadius</code> parameters to retrieve search results matching the provided
keyword within the radius centered at a particular location. Using the video IDs from the search result, the sample
calls the API's <code>videos.list</code> method to retrieve location details of each video.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample lists videos that are associated with a particular keyword and are in the radius of
 *   particular geographic coordinates by:
 *
 * 1. Searching videos with &quot;youtube.search.list&quot; method and setting &quot;type&quot;, &quot;q&quot;, &quot;location&quot; and
 *   &quot;locationRadius&quot; parameters.
 * 2. Retrieving location details for each video with &quot;youtube.videos.list&quot; method and setting
 *   &quot;id&quot; parameter to comma separated list of video IDs in search result.
 *
 * @author Ibrahim Ulukaya
 */

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;

$htmlBody = &lt;&lt;&lt;END
&lt;form method=&quot;GET&quot;&gt;
  &lt;div&gt;
    Search Term: &lt;input type=&quot;search&quot; id=&quot;q&quot; name=&quot;q&quot; placeholder=&quot;Enter Search Term&quot;&gt;
  &lt;/div&gt;
  &lt;div&gt;
    Location: &lt;input type=&quot;text&quot; id=&quot;location&quot; name=&quot;location&quot; placeholder=&quot;37.42307,-122.08427&quot;&gt;
  &lt;/div&gt;
  &lt;div&gt;
    Location Radius: &lt;input type=&quot;text&quot; id=&quot;locationRadius&quot; name=&quot;locationRadius&quot; placeholder=&quot;5km&quot;&gt;
  &lt;/div&gt;
  &lt;div&gt;
    Max Results: &lt;input type=&quot;number&quot; id=&quot;maxResults&quot; name=&quot;maxResults&quot; min=&quot;1&quot; max=&quot;50&quot; step=&quot;1&quot; value=&quot;25&quot;&gt;
  &lt;/div&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Search&quot;&gt;
&lt;/form&gt;
END;

// This code executes if the user enters a search query in the form
// and submits the form. Otherwise, the page displays the form above.
if (isset($_GET[&#39;q&#39;]) &amp;&amp; isset($_GET[&#39;maxResults&#39;])) {
  /*
   * Set $DEVELOPER_KEY to the &quot;API key&quot; value from the &quot;Access&quot; tab of the
  * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
  * Please ensure that you have enabled the YouTube Data API for your project.
  */
  $DEVELOPER_KEY = &#39;REPLACE_ME&#39;;

  $client = new Google_Client();
  $client-&gt;setDeveloperKey($DEVELOPER_KEY);

  // Define an object that will be used to make all API requests.
  $youtube = new Google_Service_YouTube($client);

  try {
    // Call the search.list method to retrieve results matching the specified
    // query term.
    $searchResponse = $youtube-&gt;search-&gt;listSearch(&#39;id,snippet&#39;, array(
        &#39;type&#39; =&gt; &#39;video&#39;,
        &#39;q&#39; =&gt; $_GET[&#39;q&#39;],
        &#39;location&#39; =&gt;  $_GET[&#39;location&#39;],
        &#39;locationRadius&#39; =&gt;  $_GET[&#39;locationRadius&#39;],
        &#39;maxResults&#39; =&gt; $_GET[&#39;maxResults&#39;],
    ));

    $videoResults = array();
    # Merge video ids
    foreach ($searchResponse[&#39;items&#39;] as $searchResult) {
      array_push($videoResults, $searchResult[&#39;id&#39;][&#39;videoId&#39;]);
    }
    $videoIds = join(&#39;,&#39;, $videoResults);

    # Call the videos.list method to retrieve location details for each video.
    $videosResponse = $youtube-&gt;videos-&gt;listVideos(&#39;snippet, recordingDetails&#39;, array(
    &#39;id&#39; =&gt; $videoIds,
    ));

    $videos = &#39;&#39;;

    // Display the list of matching videos.
    foreach ($videosResponse[&#39;items&#39;] as $videoResult) {
      $videos .= sprintf(&#39;&lt;li&gt;%s (%s,%s)&lt;/li&gt;&#39;,
          $videoResult[&#39;snippet&#39;][&#39;title&#39;],
          $videoResult[&#39;recordingDetails&#39;][&#39;location&#39;][&#39;latitude&#39;],
          $videoResult[&#39;recordingDetails&#39;][&#39;location&#39;][&#39;longitude&#39;]);
    }

    $htmlBody .= &lt;&lt;&lt;END
    &lt;h3&gt;Videos&lt;/h3&gt;
    &lt;ul&gt;$videos&lt;/ul&gt;
END;
  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;YouTube Geolocation Search&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/geolocation_search.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/geolocation_search.php">geolocation_search.php</a></div></pre>

<h2 id="set_and_retrieve_localized_channel_metadata">Set and retrieve localized channel metadata</h2>
<p>This sample demonstrates how to use the following API methods to set and retrieve localized metadata for a
channel:<br>
<ul>
<li>It calls the <code>channels.update</code> method to update the default language of a channel's metadata and to add a
localized version of this metadata in a selected language. Note that to set the default language for a channel resource,
you actually need to update the <code>brandingSettings.channel.defaultLanguage</code> property.</li>
<li>It calls the <code>channels.list</code> method with the <code>hl</code> parameter set to a specific language to
retrieve localized metadata in that language.</li>
<li>It calls the <code>channels.list</code> method and includes <code>localizations</code> in the <code>part</code>
parameter value to retrieve all of the localized metadata for that channel.</li>
</ul></p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample sets and retrieves localized metadata for a channel by:
 *
 * 1. Updating language of the default metadata and setting localized metadata
 *   for a channel via &quot;channels.update&quot; method.
 * 2. Getting the localized metadata for a channel in a selected language using the
 *   &quot;channels.list&quot; method and setting the &quot;hl&quot; parameter.
 * 3. Listing the localized metadata for a channel using &quot;channels.list&quot; method and
 *   including &quot;localizations&quot; in the &quot;part&quot; parameter.
 *
 * @author Ibrahim Ulukaya
 */

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

$htmlBody = &lt;&lt;&lt;END
&lt;form method=&quot;GET&quot;&gt;
  &lt;div&gt;
    Action:
    &lt;select id=&quot;action&quot; name=&quot;action&quot;&gt;
      &lt;option value=&quot;set&quot;&gt;Set Localization - Fill in: channel ID, default language, language, description&lt;/option&gt;
      &lt;option value=&quot;get&quot;&gt;Get Localization- Fill in: channel ID, language&lt;/option&gt;
      &lt;option value=&quot;list&quot;&gt;List Localizations - Fill in: channel ID, language&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Channel ID: &lt;input type=&quot;text&quot; id=&quot;channelId&quot; name=&quot;channelId&quot; placeholder=&quot;Enter Channel ID&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Default Language: &lt;input type=&quot;text&quot; id=&quot;defaultLanguage&quot; name=&quot;defaultLanguage&quot; placeholder=&quot;Enter Default Language (BCP-47 language code)&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Language: &lt;input type=&quot;text&quot; id=&quot;language&quot; name=&quot;language&quot; placeholder=&quot;Enter Local Language (BCP-47 language code)&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Description: &lt;input type=&quot;text&quot; id=&quot;description&quot; name=&quot;description&quot; placeholder=&quot;Enter Description&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;input type=&quot;submit&quot; value=&quot;GO!&quot;&gt;
&lt;/form&gt;
END;

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);

/*
 * This OAuth 2.0 access scope allows for full read/write access to the
 * authenticated user&#39;s account.
 */
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  // This code executes if the user enters an action in the form
  // and submits the form. Otherwise, the page displays the form above.
  if (isset($_GET[&#39;action&#39;])) {
    $htmlBody = &#39;&#39;;
    $resource = $_GET[&#39;resource&#39;];
    $channelId = $_GET[&#39;channelId&#39;];
    $language = $_GET[&#39;language&#39;];
    $defaultLanguage = $_GET[&#39;defaultLanguage&#39;];
    $description = $_GET[&#39;description&#39;];
    try {
      switch ($_GET[&#39;action&#39;]) {
        case &#39;set&#39;:
          setChannelLocalization($youtube, $channelId, $defaultLanguage,
              $language, $description, $htmlBody);
          break;
        case &#39;get&#39;:
          getChannelLocalization($youtube, $channelId, $language, $htmlBody);
          break;
        case &#39;list&#39;:
          listChannelLocalizations($youtube, $channelId, $htmlBody);
          break;
      }
    } catch (Google_Service_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    } catch (Google_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    }
  }
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}


/**
 * Updates a channel&#39;s default language and sets its localized metadata.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $channelId The id parameter specifies the channel ID for the resource
 * that is being updated.
 * @param string $defaultLanguage The language of the channel&#39;s default metadata
 * @param string $language The language of the localized metadata
 * @param string $description The localized description to be set
 * @param $htmlBody - html body.
 */
function setChannelLocalization(Google_Service_YouTube $youtube, $channelId, $defaultLanguage,
    $language, $description, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s channels.list method to retrieve channels.
  $channels = $youtube-&gt;channels-&gt;listChannels(&quot;brandingSettings,localizations&quot;, array(
      &#39;id&#39; =&gt; $channelId
  ));

  // If $channels is empty, the specified channel was not found.
  if (empty($channels)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a channel with channel id: %s&lt;/h3&gt;&#39;, $channelId);
  } else {
    // Since the request specified a channel ID, the response only
    // contains one channel resource.
    $updateChannel = $channels[0];

    // Modify channel&#39;s default language and localizations properties.
    // Ensure that a value is set for the resource&#39;s snippet.defaultLanguage property.
    // To set the snippet.defaultLanguage property for a channel resource,
    // you actually need to update the brandingSettings.channel.defaultLanguage property.
    $updateChannel[&#39;brandingSettings&#39;][&#39;channel&#39;][&#39;defaultLanguage&#39;] = $defaultLanguage;
    $localizations = $updateChannel[&#39;localizations&#39;];

    if (is_null($localizations)) {
      $localizations = array();
    }
    $localizations[$language] = array(&#39;description&#39; =&gt; $description);
    $updateChannel[&#39;localizations&#39;] = $localizations;

    // Call the YouTube Data API&#39;s channels.update method to update an existing channel.
    $channelUpdateResponse = $youtube-&gt;channels-&gt;update(&quot;brandingSettings,localizations&quot;,
        $updateChannel);

    $htmlBody .= &quot;&lt;h2&gt;Updated channel&lt;/h2&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;(%s) default language: %s&lt;/li&gt;&#39;, $channelId,
        $channelUpdateResponse[&#39;brandingSettings&#39;][&#39;channel&#39;][&#39;defaultLanguage&#39;]);
    $htmlBody .= sprintf(&#39;&lt;li&gt;description(%s): %s&lt;/li&gt;&#39;, $language,
        $channelUpdateResponse[&#39;localizations&#39;][$language][&#39;description&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}

/**
 * Returns localized metadata for a channel in a selected language.
 * If the localized text is not available in the requested language,
 * this method will return text in the default language.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $channelId The channelId parameter instructs the API to return the
 * localized metadata for the channel specified by the channel id.
 * @param string language The language of the localized metadata.
 * @param $htmlBody - html body.
 */
function getChannelLocalization(Google_Service_YouTube $youtube, $channelId,
    $language, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s channels.list method to retrieve channels.
  $channels = $youtube-&gt;channels-&gt;listChannels(&quot;snippet&quot;, array(
      &#39;id&#39; =&gt; $channelId,
      &#39;hl&#39; =&gt; $language
  ));

  // If $channels is empty, the specified channel was not found.
  if (empty($channels)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a channel with channel id: %s&lt;/h3&gt;&#39;, $channelId);
  } else {
    // Since the request specified a channel ID, the response only
    // contains one channel resource.
    $localized = $channels[0][&quot;snippet&quot;][&quot;localized&quot;];

    $htmlBody .= &quot;&lt;h3&gt;Channel&lt;/h3&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;description(%s): %s&lt;/li&gt;&#39;, $language, $localized[&#39;description&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}

/**
 * Returns a list of localized metadata for a channel.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $channelId The channelId parameter instructs the API to return the
 * localized metadata for the channel specified by the channel id.
 * @param $htmlBody - html body.
 */
function listChannelLocalizations(Google_Service_YouTube $youtube, $channelId, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s channels.list method to retrieve channels.
  $channels = $youtube-&gt;channels-&gt;listChannels(&quot;snippet,localizations&quot;, array(
      &#39;id&#39; =&gt; $channelId
  ));

  // If $channels is empty, the specified channel was not found.
  if (empty($channels)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a channel with channel id: %s&lt;/h3&gt;&#39;, $channelId);
  } else {
    // Since the request specified a channel ID, the response only
    // contains one channel resource.
    $localizations = $channels[0][&quot;localizations&quot;];

    $htmlBody .= &quot;&lt;h3&gt;Channel&lt;/h3&gt;&lt;ul&gt;&quot;;
    foreach ($localizations as $language =&gt; $localization) {
      $htmlBody .= sprintf(&#39;&lt;li&gt;description(%s): %s&lt;/li&gt;&#39;, $language, $localization[&#39;description&#39;]);
    }
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Set and retrieve localized metadata for a channel&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/channel_localizations.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/channel_localizations.php">channel_localizations.php</a></div></pre>

<h2 id="set_and_retrieve_localized_channel_section_metadata">Set and retrieve localized channel section metadata</h2>
<p>This sample demonstrates how to use the following API methods to set and retrieve localized metadata for a
channel section:<br>
<ul>
<li>It calls the <code>channelSections.update</code> method to update the default language of a channel section's
metadata and to add a localized version of this metadata in a selected language.</li>
<li>It calls the <code>channelSections.list</code> method with the <code>hl</code> parameter set to a specific language
to retrieve localized metadata in that language.</li>
<li>It calls the <code>channelSections.list</code> method and includes <code>localizations</code> in the
<code>part</code> parameter value to retrieve all of the localized metadata for that channel section.</li>
</ul></p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample sets and retrieves localized metadata for a channel section by:
 *
 * 1. Updating language of the default metadata and setting localized metadata
 *   for a channel section via &quot;channelSections.update&quot; method.
 * 2. Getting the localized metadata for a channel section in a selected language using the
 *   &quot;channelSections.list&quot; method and setting the &quot;hl&quot; parameter.
 * 3. Listing the localized metadata for a channel section using the &quot;channelSections.list&quot; method
 *   and including &quot;localizations&quot; in the &quot;part&quot; parameter.
 *
 * @author Ibrahim Ulukaya
 */

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

$htmlBody = &lt;&lt;&lt;END
&lt;form method=&quot;GET&quot;&gt;
  &lt;div&gt;
    Action:
    &lt;select id=&quot;action&quot; name=&quot;action&quot;&gt;
      &lt;option value=&quot;set&quot;&gt;Set Localization - Fill in: channel section ID, default language, language, title&lt;/option&gt;
      &lt;option value=&quot;get&quot;&gt;Get Localization- Fill in: channel section ID, language&lt;/option&gt;
      &lt;option value=&quot;list&quot;&gt;List Localizations - Fill in: channel section ID, language&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Channel section ID: &lt;input type=&quot;text&quot; id=&quot;channelSectionId&quot; name=&quot;channelSectionId&quot; placeholder=&quot;Enter Channel Section ID&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Default Language: &lt;input type=&quot;text&quot; id=&quot;defaultLanguage&quot; name=&quot;defaultLanguage&quot; placeholder=&quot;Enter Default Language&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Default Language: &lt;input type=&quot;text&quot; id=&quot;defaultLanguage&quot; name=&quot;defaultLanguage&quot; placeholder=&quot;Enter Default Language (BCP-47 language code)&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Language: &lt;input type=&quot;text&quot; id=&quot;language&quot; name=&quot;language&quot; placeholder=&quot;Enter Local Language (BCP-47 language code)&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;input type=&quot;submit&quot; value=&quot;GO!&quot;&gt;
&lt;/form&gt;
END;

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);

/*
 * This OAuth 2.0 access scope allows for full read/write access to the
 * authenticated user&#39;s account.
 */
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  $htmlBody = &#39;&#39;;
  // This code executes if the user enters an action in the form
  // and submits the form. Otherwise, the page displays the form above.
  if (isset($_GET[&#39;action&#39;])) {
    $resource = $_GET[&#39;resource&#39;];
    $channelSectionId = $_GET[&#39;channelSectionId&#39;];
    $language = $_GET[&#39;language&#39;];
    $defaultLanguage = $_GET[&#39;defaultLanguage&#39;];
    $title = $_GET[&#39;title&#39;];
    try {
      switch ($_GET[&#39;action&#39;]) {
        case &#39;set&#39;:
          setChannelSectionLocalization($youtube, $channelSectionId, $defaultLanguage,
              $language, $title, $htmlBody);
          break;
        case &#39;get&#39;:
          getChannelSectionLocalization($youtube, $channelSectionId, $language, $htmlBody);
          break;
        case &#39;list&#39;:
          listChannelSectionLocalizations($youtube, $channelSectionId, $htmlBody);
          break;
      }
    } catch (Google_Service_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    } catch (Google_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    }
  }
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}


/**
 * Updates a channel section&#39;s default language and sets its localized metadata.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $channelSectionId The id parameter specifies the channel section ID
 * for the resource that is being updated.
 * @param string $defaultLanguage The language of the channel section&#39;s default metadata
 * @param string $language The language of the localized metadata
 * @param string $title The localized title to be set
 * @param $htmlBody - html body.
 */
function setChannelSectionLocalization(Google_Service_YouTube $youtube, $channelSectionId,
    $defaultLanguage, $language, $title, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s channelSections.list method to retrieve channel sections.
  $channelSections = $youtube-&gt;channelSections-&gt;listChannelSections(&quot;snippet,localizations&quot;, array(
      &#39;id&#39; =&gt; $channelSectionId
  ));

  // If $channelSections is empty, the specified channel section was not found.
  if (empty($channelSections)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a channel section with channel section id: %s&lt;/h3&gt;&#39;,
        $channelSectionId);
  } else {
    // Since the request specified a channel section ID, the response only
    // contains one channel section resource.
    $updateChannelSection = $channelSections[0];

    // Modify channel section&#39;s default language and localizations properties.
    // Ensure that a value is set for the resource&#39;s snippet.defaultLanguage property.
    $updateChannelSection[&#39;snippet&#39;][&#39;defaultLanguage&#39;] = $defaultLanguage;
    $localizations = $updateChannelSection[&#39;localizations&#39;];

    if (is_null($localizations)) {
      $localizations = array();
    }
    $localizations[$language] = array(&#39;title&#39; =&gt; $title);
    $updateChannelSection[&#39;localizations&#39;] = $localizations;

    // Call the YouTube Data API&#39;s channelSections.update method to update an
    // existing channel section.
    $channelSectionUpdateResponse = $youtube-&gt;channels-&gt;update(&quot;snippet,localizations&quot;,
        $updateChannelSection);

    $htmlBody .= &quot;&lt;h2&gt;Updated channel section&lt;/h2&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;(%s) default language: %s&lt;/li&gt;&#39;, $channelSectionId,
        $channelSectionUpdateResponse[&#39;snippet&#39;][&#39;defaultLanguage&#39;]);
    $htmlBody .= sprintf(&#39;&lt;li&gt;title(%s): %s&lt;/li&gt;&#39;, $language,
        $channelSectionUpdateResponse[&#39;localizations&#39;][$language][&#39;title&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}

/**
 * Returns localized metadata for a channel section in a selected language.
 * If the localized text is not available in the requested language,
 * this method will return text in the default language.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $channelSectionId The channelSectionId parameter instructs the API to return the
 * localized metadata for the channel section specified by the channel section id.
 * @param string language The language of the localized metadata.
 * @param $htmlBody - html body.
 */
function getChannelSectionLocalization(Google_Service_YouTube $youtube, $channelSectionId,
    $language, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s channelSections.list method to retrieve channel sections.
  $channelSections = $youtube-&gt;channelSections-&gt;listChannelSections(&quot;snippet&quot;, array(
      &#39;id&#39; =&gt; $channelSectionId,
      &#39;hl&#39; =&gt; $language
  ));

  // If $channelSections is empty, the specified channel section was not found.
  if (empty($channelSections)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a channel section with channel section id: %s&lt;/h3&gt;&#39;,
        $channelSectionId);
  } else {
    // Since the request specified a channel section ID, the response only
    // contains one channel section resource.
    $localized = $channelSections[0][&quot;snippet&quot;][&quot;localized&quot;];

    $htmlBody .= &quot;&lt;h3&gt;Channel Section&lt;/h3&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;title(%s): %s&lt;/li&gt;&#39;, $language, $localized[&#39;title&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}

/**
 * Returns a list of localized metadata for a channel section.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $channelId The channelSectionId parameter instructs the API to return the
 * localized metadata for the channel section specified by the channel section id.
 * @param $htmlBody - html body.
 */
function listChannelSectionLocalizations(Google_Service_YouTube $youtube,
    $channelSectionId, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s channelSections.list method to retrieve channel sections.
  $channelSections = $youtube-&gt;channelSections-&gt;listChannelSections(&quot;snippet&quot;, array(
      &#39;id&#39; =&gt; $channelSectionId
  ));

  // If $channelSections is empty, the specified channel section was not found.
  if (empty($channelSections)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a channel section with channel section id: %s&lt;/h3&gt;&#39;,
        $channelSectionId);
  } else {
    // Since the request specified a channel section ID, the response only
    // contains one channel section resource.
    $localizations = $channelSections[0][&quot;localizations&quot;];

    $htmlBody .= &quot;&lt;h3&gt;Channel Section&lt;/h3&gt;&lt;ul&gt;&quot;;
    foreach ($localizations as $language =&gt; $localization) {
      $htmlBody .= sprintf(&#39;&lt;li&gt;title(%s): %s&lt;/li&gt;&#39;, $language, $localization[&#39;title&#39;]);
    }
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Set and retrieve localized metadata for a channel section&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/channel_section_localizations.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/channel_section_localizations.php">channel_section_localizations.php</a></div></pre>

<h2 id="set_and_retrieve_localized_playlist_metadata">Set and retrieve localized playlist metadata</h2>
<p>This sample demonstrates how to use the following API methods to set and retrieve localized metadata for a
playlist:<br>
<ul>
<li>It calls the <code>playlists.update</code> method to update the default language of a playlist's metadata and to add
a localized version of this metadata in a selected language.</li>
<li>It calls the <code>playlists.list</code> method with the <code>hl</code> parameter set to a specific language to
retrieve localized metadata in that language.</li>
<li>It calls the <code>playlists.list</code> method and includes <code>localizations</code> in the <code>part</code>
parameter value to retrieve all of the localized metadata for that playlist.</li>
</ul></p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample sets and retrieves localized metadata for a playlist by:
 *
 * 1. Updating language of the default metadata and setting localized metadata
 *   for a playlist via &quot;playlists.update&quot; method.
 * 2. Getting the localized metadata for a playlist in a selected language using the
 *   &quot;playlists.list&quot; method and setting the &quot;hl&quot; parameter.
 * 3. Listing the localized metadata for a playlist using the &quot;playlists.list&quot; method
 *   and including &quot;localizations&quot; in the &quot;part&quot; parameter.
 *
 * @author Ibrahim Ulukaya
 */

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

$htmlBody = &lt;&lt;&lt;END
&lt;form method=&quot;GET&quot;&gt;
  &lt;div&gt;
    Action:
    &lt;select id=&quot;action&quot; name=&quot;action&quot;&gt;
      &lt;option value=&quot;set&quot;&gt;Set Localization - Fill in: playlist ID, default language, language, , title and description&lt;/option&gt;
      &lt;option value=&quot;get&quot;&gt;Get Localization- Fill in: playlist ID, language&lt;/option&gt;
      &lt;option value=&quot;list&quot;&gt;List Localizations - Fill in: playlist ID, language&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Playlist ID: &lt;input type=&quot;text&quot; id=&quot;playlistId&quot; name=&quot;playlistId&quot; placeholder=&quot;Enter Playlist ID&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Default Language: &lt;input type=&quot;text&quot; id=&quot;defaultLanguage&quot; name=&quot;defaultLanguage&quot; placeholder=&quot;Enter Default Language (BCP-47 language code)&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Language: &lt;input type=&quot;text&quot; id=&quot;language&quot; name=&quot;language&quot; placeholder=&quot;Enter Local Language (BCP-47 language code)&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Title: &lt;input type=&quot;text&quot; id=&quot;title&quot; name=&quot;title&quot; placeholder=&quot;Enter Title&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Description: &lt;input type=&quot;text&quot; id=&quot;description&quot; name=&quot;description&quot; placeholder=&quot;Enter Description&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;input type=&quot;submit&quot; value=&quot;GO!&quot;&gt;
&lt;/form&gt;
END;

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);

/*
 * This OAuth 2.0 access scope allows for full read/write access to the
 * authenticated user&#39;s account.
 */
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  $htmlBody = &#39;&#39;;
  // This code executes if the user enters an action in the form
  // and submits the form. Otherwise, the page displays the form above.
  if (isset($_GET[&#39;action&#39;])) {
    $resource = $_GET[&#39;resource&#39;];
    $playlistId = $_GET[&#39;playlistId&#39;];
    $language = $_GET[&#39;language&#39;];
    $defaultLanguage = $_GET[&#39;defaultLanguage&#39;];
    $title = $_GET[&#39;title&#39;];
    $description = $_GET[&#39;description&#39;];
    try {
      switch ($_GET[&#39;action&#39;]) {
        case &#39;set&#39;:
          setPlaylistLocalization($youtube, $playlistId, $defaultLanguage,
              $language, $title, $description, $htmlBody);
          break;
        case &#39;get&#39;:
          getPlaylistLocalization($youtube, $playlistId, $language, $htmlBody);
          break;
        case &#39;list&#39;:
          listPlaylistLocalizations($youtube, $playlistId, $htmlBody);
          break;
      }
    } catch (Google_Service_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    } catch (Google_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    }
  }
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}


/**
 * Updates a playlist&#39;s default language and sets its localized metadata.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $playlistId The id parameter specifies the playlist ID for the resource
 * that is being updated.
 * @param string $defaultLanguage The language of the playlist&#39;s default metadata
 * @param string $language The language of the localized metadata
 * @param string $title The localized title to be set
 * @param string $description The localized description to be set
 * @param $htmlBody - html body.
 */
function setPlaylistLocalization(Google_Service_YouTube $youtube, $playlistId, $defaultLanguage,
    $language, $title, $description, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s playlists.list method to retrieve playlists.
  $playlists = $youtube-&gt;playlists-&gt;listPlaylists(&quot;snippet,localizations&quot;, array(
      &#39;id&#39; =&gt; $playlistId
  ));

  // If $playlists is empty, the specified playlist was not found.
  if (empty($playlists)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a playlist with playlist id: %s&lt;/h3&gt;&#39;, $playlistId);
  } else {
    // Since the request specified a playlist ID, the response only
    // contains one playlist resource.
    $updatePlaylist = $playlists[0];

    // Modify playlist&#39;s default language and localizations properties.
    // Ensure that a value is set for the resource&#39;s snippet.defaultLanguage property.
    $updatePlaylist[&#39;snippet&#39;][&#39;defaultLanguage&#39;] = $defaultLanguage;
    $localizations = $updatePlaylist[&#39;localizations&#39;];

    if (is_null($localizations)) {
      $localizations = array();
    }
    $localizations[$language] = array(&#39;title&#39; =&gt; $title, &#39;description&#39; =&gt; $description);
    $updatePlaylist[&#39;localizations&#39;] = $localizations;

    // Call the YouTube Data API&#39;s playlists.update method to update an existing playlist.
    $playlistUpdateResponse = $youtube-&gt;playlists-&gt;update(&quot;snippet,localizations&quot;, $updatePlaylist);

    $htmlBody .= &quot;&lt;h2&gt;Updated playlist&lt;/h2&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;(%s) default language: %s&lt;/li&gt;&#39;, $playlistId,
        $playlistUpdateResponse[&#39;snippet&#39;][&#39;defaultLanguage&#39;]);
    $htmlBody .= sprintf(&#39;&lt;li&gt;title(%s): %s&lt;/li&gt;&#39;, $language,
        $playlistUpdateResponse[&#39;localizations&#39;][$language][&#39;title&#39;]);
    $htmlBody .= sprintf(&#39;&lt;li&gt;description(%s): %s&lt;/li&gt;&#39;, $language,
        $playlistUpdateResponse[&#39;localizations&#39;][$language][&#39;description&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}

/**
 * Returns localized metadata for a playlist in a selected language.
 * If the localized text is not available in the requested language,
 * this method will return text in the default language.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $playlistId The videoId parameter instructs the API to return the
 * localized metadata for the playlist specified by the playlist id.
 * @param string language The language of the localized metadata.
 * @param $htmlBody - html body.
 */
function getPlaylistLocalization(Google_Service_YouTube $youtube, $playlistId,
    $language, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s playlists.list method to retrieve playlists.
  $playlists = $youtube-&gt;playlists-&gt;listPlaylists(&quot;snippet&quot;, array(
      &#39;id&#39; =&gt; $playlistId,
      &#39;hl&#39; =&gt; $language
  ));

  // If $playlists is empty, the specified playlist was not found.
  if (empty($playlists)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a playlist with playlist id: %s&lt;/h3&gt;&#39;, $playlistId);
  } else {
    // Since the request specified a playlist ID, the response only
    // contains one playlist resource.
    $localized = $playlists[0][&quot;snippet&quot;][&quot;localized&quot;];

    $htmlBody .= &quot;&lt;h3&gt;Playlist&lt;/h3&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;title(%s): %s&lt;/li&gt;&#39;, $language, $localized[&#39;title&#39;]);
    $htmlBody .= sprintf(&#39;&lt;li&gt;description(%s): %s&lt;/li&gt;&#39;, $language, $localized[&#39;description&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}

/**
 * Returns a list of localized metadata for a playlist.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $playlistId The videoId parameter instructs the API to return the
 * localized metadata for the playlist specified by the playlist id.
 * @param $htmlBody - html body.
 */
function listPlaylistLocalizations(Google_Service_YouTube $youtube, $playlistId, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s playlists.list method to retrieve playlists.
  $playlists = $youtube-&gt;playlists-&gt;listPlaylists(&quot;snippet&quot;, array(
      &#39;id&#39; =&gt; $playlistId
  ));

  // If $playlists is empty, the specified playlist was not found.
  if (empty($playlists)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a playlist with playlist id: %s&lt;/h3&gt;&#39;, $playlistId);
  } else {
    // Since the request specified a playlist ID, the response only
    // contains one playlist resource.
    $localizations = $playlists[0][&quot;localizations&quot;];

    $htmlBody .= &quot;&lt;h3&gt;Playlist&lt;/h3&gt;&lt;ul&gt;&quot;;
    foreach ($localizations as $language =&gt; $localization) {
      $htmlBody .= sprintf(&#39;&lt;li&gt;title(%s): %s&lt;/li&gt;&#39;, $language, $localization[&#39;title&#39;]);
      $htmlBody .= sprintf(&#39;&lt;li&gt;description(%s): %s&lt;/li&gt;&#39;, $language, $localization[&#39;description&#39;]);
    }
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Set and retrieve localized metadata for a playlist&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/playlist_localizations.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/playlist_localizations.php">playlist_localizations.php</a></div></pre>

<h2 id="set_and_retrieve_localized_video_metadata">Set and retrieve localized video metadata</h2>
<p>This sample demonstrates how to use the following API methods to set and retrieve localized metadata
for a video:<br>
<ul>
<li>It calls the <code>videos.update</code> method to update the default language of a video's metadata and to add
a localized version of this metadata in a selected language.</li>
<li>It calls the <code>videos.list</code> method with the <code>hl</code> parameter set to a specific language to
retrieve localized metadata in that language.</li>
<li>It calls the <code>videos.list</code> method and includes <code>localizations</code> in the <code>part</code>
parameter value to retrieve all of the localized metadata for that video.</li>
</ul></p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample sets and retrieves localized metadata for a video by:
 *
 * 1. Updating language of the default metadata and setting localized metadata
 *   for a video via &quot;videos.update&quot; method.
 * 2. Getting the localized metadata for a video in a selected language using the
 *   &quot;videos.list&quot; method and setting the &quot;hl&quot; parameter.
 * 3. Listing the localized metadata for a video using the &quot;videos.list&quot; method and
 *   including &quot;localizations&quot; in the &quot;part&quot; parameter.
 *
 * @author Ibrahim Ulukaya
 */

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

$htmlBody = &lt;&lt;&lt;END
&lt;form method=&quot;GET&quot;&gt;
  &lt;div&gt;
    Action:
    &lt;select id=&quot;action&quot; name=&quot;action&quot;&gt;
      &lt;option value=&quot;set&quot;&gt;Set Localization - Fill in: video ID, default language, language, title and description&lt;/option&gt;
      &lt;option value=&quot;get&quot;&gt;Get Localization- Fill in: video ID, language&lt;/option&gt;
      &lt;option value=&quot;list&quot;&gt;List Localizations - Fill in: video ID, language&lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Video ID: &lt;input type=&quot;text&quot; id=&quot;videoId&quot; name=&quot;videoId&quot; placeholder=&quot;Enter Video ID&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Default Language: &lt;input type=&quot;text&quot; id=&quot;defaultLanguage&quot; name=&quot;defaultLanguage&quot; placeholder=&quot;Enter Default Language (BCP-47 language code)&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Language: &lt;input type=&quot;text&quot; id=&quot;language&quot; name=&quot;language&quot; placeholder=&quot;Enter Local Language (BCP-47 language code)&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Title: &lt;input type=&quot;text&quot; id=&quot;title&quot; name=&quot;title&quot; placeholder=&quot;Enter Title&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;div&gt;
    Description: &lt;input type=&quot;text&quot; id=&quot;description&quot; name=&quot;description&quot; placeholder=&quot;Enter Description&quot;&gt;
  &lt;/div&gt;
  &lt;br&gt;
  &lt;input type=&quot;submit&quot; value=&quot;GO!&quot;&gt;
&lt;/form&gt;
END;

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);

/*
 * This OAuth 2.0 access scope allows for full read/write access to the
 * authenticated user&#39;s account.
 */
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  // This code executes if the user enters an action in the form
  // and submits the form. Otherwise, the page displays the form above.
  if (isset($_GET[&#39;action&#39;])) {
    $htmlBody = &#39;&#39;;
    $videoId = $_GET[&#39;videoId&#39;];
    $language = $_GET[&#39;language&#39;];
    $defaultLanguage = $_GET[&#39;defaultLanguage&#39;];
    $title = $_GET[&#39;title&#39;];
    $description = $_GET[&#39;description&#39;];
    try {
      switch ($_GET[&#39;action&#39;]) {
        case &#39;set&#39;:
          setVideoLocalization($youtube, $videoId, $defaultLanguage,
              $language, $title, $description, $htmlBody);
          break;
        case &#39;get&#39;:
          getVideoLocalization($youtube, $videoId, $language, $htmlBody);
          break;
        case &#39;list&#39;:
          listVideoLocalizations($youtube, $videoId, $htmlBody);
          break;
      }
    } catch (Google_Service_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    } catch (Google_Exception $e) {
      $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
          htmlspecialchars($e-&gt;getMessage()));
    }
  }
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}


/**
 * Updates a video&#39;s default language and sets its localized metadata.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $videoId The id parameter specifies the video ID for the resource
 * that is being updated.
 * @param string $defaultLanguage The language of the video&#39;s default metadata
 * @param string $language The language of the localized metadata
 * @param string $title The localized title to be set
 * @param string $description The localized description to be set
 * @param $htmlBody - html body.
 */
function setVideoLocalization(Google_Service_YouTube $youtube, $videoId, $defaultLanguage,
    $language, $title, $description, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s videos.list method to retrieve videos.
  $videos = $youtube-&gt;videos-&gt;listVideos(&quot;snippet,localizations&quot;, array(
      &#39;id&#39; =&gt; $videoId
  ));

  // If $videos is empty, the specified video was not found.
  if (empty($videos)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a video with video id: %s&lt;/h3&gt;&#39;, $videoId);
  } else {
    // Since the request specified a video ID, the response only
    // contains one video resource.
    $updateVideo = $videos[0];

    // Modify video&#39;s default language and localizations properties.
    // Ensure that a value is set for the resource&#39;s snippet.defaultLanguage property.
    $updateVideo[&#39;snippet&#39;][&#39;defaultLanguage&#39;] = $defaultLanguage;
    $localizations = $updateVideo[&#39;localizations&#39;];

    if (is_null($localizations)) {
      $localizations = array();
    }
    $localizations[$language] = array(&#39;title&#39; =&gt; $title, &#39;description&#39; =&gt; $description);
    $updateVideo[&#39;localizations&#39;] = $localizations;

    // Call the YouTube Data API&#39;s videos.update method to update an existing video.
    $videoUpdateResponse = $youtube-&gt;videos-&gt;update(&quot;snippet,localizations&quot;, $updateVideo);

    $htmlBody .= &quot;&lt;h2&gt;Updated video&lt;/h2&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;(%s) default language: %s&lt;/li&gt;&#39;, $videoId,
        $videoUpdateResponse[&#39;snippet&#39;][&#39;defaultLanguage&#39;]);
    $htmlBody .= sprintf(&#39;&lt;li&gt;title(%s): %s&lt;/li&gt;&#39;, $language,
        $videoUpdateResponse[&#39;localizations&#39;][$language][&#39;title&#39;]);
    $htmlBody .= sprintf(&#39;&lt;li&gt;description(%s): %s&lt;/li&gt;&#39;, $language,
        $videoUpdateResponse[&#39;localizations&#39;][$language][&#39;description&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}

/**
 * Returns localized metadata for a video in a selected language.
 * If the localized text is not available in the requested language,
 * this method will return text in the default language.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $videoId The videoId parameter instructs the API to return the
 * localized metadata for the video specified by the video id.
 * @param string language The language of the localized metadata.
 * @param $htmlBody - html body.
 */
function getVideoLocalization(Google_Service_YouTube $youtube, $videoId, $language, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s videos.list method to retrieve videos.
  $videos = $youtube-&gt;videos-&gt;listVideos(&quot;snippet&quot;, array(
      &#39;id&#39; =&gt; $videoId,
      &#39;hl&#39; =&gt; $language
  ));

  // If $videos is empty, the specified video was not found.
  if (empty($videos)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a video with video id: %s&lt;/h3&gt;&#39;, $videoId);
  } else {
    // Since the request specified a video ID, the response only
    // contains one video resource.
    $localized = $videos[0][&quot;snippet&quot;][&quot;localized&quot;];

    $htmlBody .= &quot;&lt;h3&gt;Video&lt;/h3&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;title(%s): %s&lt;/li&gt;&#39;, $language, $localized[&#39;title&#39;]);
    $htmlBody .= sprintf(&#39;&lt;li&gt;description(%s): %s&lt;/li&gt;&#39;, $language, $localized[&#39;description&#39;]);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}

/**
 * Returns a list of localized metadata for a video.
 *
 * @param Google_Service_YouTube $youtube YouTube service object.
 * @param string $videoId The videoId parameter instructs the API to return the
 * localized metadata for the video specified by the video id.
 * @param $htmlBody - html body.
 */
function listVideoLocalizations(Google_Service_YouTube $youtube, $videoId, &amp;$htmlBody) {
  // Call the YouTube Data API&#39;s videos.list method to retrieve videos.
  $videos = $youtube-&gt;videos-&gt;listVideos(&quot;snippet,localizations&quot;, array(
      &#39;id&#39; =&gt; $videoId
  ));

  // If $videos is empty, the specified video was not found.
  if (empty($videos)) {
    $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a video with video id: %s&lt;/h3&gt;&#39;, $videoId);
  } else {
    // Since the request specified a video ID, the response only
    // contains one video resource.
    $localizations = $videos[0][&quot;localizations&quot;];

    $htmlBody .= &quot;&lt;h3&gt;Video&lt;/h3&gt;&lt;ul&gt;&quot;;
    foreach ($localizations as $language =&gt; $localization) {
      $htmlBody .= sprintf(&#39;&lt;li&gt;title(%s): %s&lt;/li&gt;&#39;, $language, $localization[&#39;title&#39;]);
      $htmlBody .= sprintf(&#39;&lt;li&gt;description(%s): %s&lt;/li&gt;&#39;, $language, $localization[&#39;description&#39;]);
    }
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;
  }
}

?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Set and retrieve localized metadata for a video&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/video_localizations.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/video_localizations.php">video_localizations.php</a></div></pre>

<h2 id="shuffle_existing_channel_sections">Shuffle existing channel sections</h2>
<p>This sample calls the API's <code>channelSections.list</code> method to get the list of current channel
sections, shuffles them, and then calls <code>channelSections.update</code> to change the position of each.<br><br>
More information on channel sections is available in the
<a href="https://support.google.com/youtube/answer/3027787">YouTube Help Center</a>.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample shuffles user&#39;s existing channel sections by:
 *
 * 1. Getting the active user&#39;s channel sections via &quot;channelSections.list&quot; method.
 * 2. Shuffling channel sections offline.
 * 3. Saving the newly shuffled channel sections list via the &quot;channelSections.update&quot; method.
 *
 * @author Ibrahim Ulukaya
*/

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  $htmlBody = &#39;&#39;;
  try {
    // Call the YouTube Data API&#39;s channelSections.list method to retrieve your channel sections.
    $listResponse = $youtube-&gt;channelSections-&gt;listChannelSections(&#39;snippet,contentDetails&#39;, array(&#39;mine&#39; =&gt; true));
    $channelSections = $listResponse[&#39;items&#39;];

    // This will randomly reorder the items in the channel_sections list.
    shuffle($channelSections);

    $htmlBody .= &quot;&lt;h2&gt;Sections Shuffled&lt;/h2&gt;&lt;ul&gt;&quot;;

    foreach ($channelSections as $channelSection) {
      // Each section in the list of shuffled sections is sequentially
      // set to position 0, i.e. the top.
      $channelSection[&#39;snippet&#39;][&#39;position&#39;] = 0;

      // Call the YouTube Data API&#39;s channelSections.update method to update a channel section.
      $updateResponse = $youtube-&gt;channelSections-&gt;update(&#39;snippet,contentDetails&#39;, $channelSection);

      $htmlBody .= sprintf(&#39;&lt;li&gt;%s &quot;%s&quot;&lt;/li&gt;&#39;,
          $updateResponse[&#39;id&#39;], $updateResponse[&#39;snippet&#39;][&#39;title&#39;]);
    }

    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
 }
    ?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Sections Shuffled&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/shuffle_channel_sections.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/shuffle_channel_sections.php">shuffle_channel_sections.php</a></div></pre>

<h2 id="update_a_video">Update a video</h2>
<p>This code sample demonstrates how to add tags into an existing video.<br><br>The following code
sample calls the API's <code>youtube.videos.list</code> method with <code>id</code> parameter set to videoId
to get the video object. Using this video object, the sample gets the list of tags and appends new tags at the
end of this list.  Finally, the code calls <code>youtube.videos.update</code> method with updated video object
to persist these changes on YouTube.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample adds new tags to a YouTube video by:
 *
 * 1. Retrieving the video resource by calling the &quot;youtube.videos.list&quot; method
 *    and setting the &quot;id&quot; parameter
 * 2. Appending new tags to the video resource&#39;s snippet.tags[] list
 * 3. Updating the video resource by calling the youtube.videos.update method.
 *
 * @author Ibrahim Ulukaya
*/

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  $htmlBody = &#39;&#39;;
  try{

    // REPLACE this value with the video ID of the video being updated.
    $videoId = &quot;VIDEO_ID&quot;;

    // Call the API&#39;s videos.list method to retrieve the video resource.
    $listResponse = $youtube-&gt;videos-&gt;listVideos(&quot;snippet&quot;,
        array(&#39;id&#39; =&gt; $videoId));

    // If $listResponse is empty, the specified video was not found.
    if (empty($listResponse)) {
      $htmlBody .= sprintf(&#39;&lt;h3&gt;Can\&#39;t find a video with video id: %s&lt;/h3&gt;&#39;, $videoId);
    } else {
      // Since the request specified a video ID, the response only
      // contains one video resource.
      $video = $listResponse[0];
      $videoSnippet = $video[&#39;snippet&#39;];
      $tags = $videoSnippet[&#39;tags&#39;];

      // Preserve any tags already associated with the video. If the video does
      // not have any tags, create a new list. Replace the values &quot;tag1&quot; and
      // &quot;tag2&quot; with the new tags you want to associate with the video.
      if (is_null($tags)) {
        $tags = array(&quot;tag1&quot;, &quot;tag2&quot;);
      } else {
        array_push($tags, &quot;tag1&quot;, &quot;tag2&quot;);
      }

      // Set the tags array for the video snippet
      $videoSnippet[&#39;tags&#39;] = $tags;

      // Update the video resource by calling the videos.update() method.
      $updateResponse = $youtube-&gt;videos-&gt;update(&quot;snippet&quot;, $video);

      $responseTags = $updateResponse[&#39;snippet&#39;][&#39;tags&#39;];

      $htmlBody .= &quot;&lt;h3&gt;Video Updated&lt;/h3&gt;&lt;ul&gt;&quot;;
      $htmlBody .= sprintf(&#39;&lt;li&gt;Tags &quot;%s&quot; and &quot;%s&quot; added for video %s (%s) &lt;/li&gt;&#39;,
          array_pop($responseTags), array_pop($responseTags),
          $videoId, $video[&#39;snippet&#39;][&#39;title&#39;]);

      $htmlBody .= &#39;&lt;/ul&gt;&#39;;
    }
  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

    $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
&lt;h3&gt;Authorization Required&lt;/h3&gt;
&lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Video Updated&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/update_video.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/update_video.php">update_video.php</a></div></pre>

<h2 id="upload_a_banner_image_and_set_as_channel_s_banner">Upload a banner image and set as channel's banner</h2>
<p>This sample calls the API's <code>channelBanners.insert</code> method to upload an image. With the
returned URL, the sample calls <code>channels.update</code> method to update the channel's banner to this image.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample sets a custom banner for a user&#39;s channel by:
 *
 * 1. Uploading a banner image with &quot;youtube.channelBanners.insert&quot; method via resumable upload
 * 2. Getting user&#39;s channel object with &quot;youtube.channels.list&quot; method and &quot;mine&quot; parameter
 * 3. Updating channel&#39;s banner external URL with &quot;youtube.channels.update&quot; method
 *
 * @author Ibrahim Ulukaya
*/

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  $htmlBody = &#39;&#39;;
  try{

    // REPLACE with the path to your file that you want to upload for thumbnail
    $imagePath = &quot;/path/to/file.jpg&quot;;

    // Specify the size of each chunk of data, in bytes. Set a higher value for
    // reliable connection as fewer chunks lead to faster uploads. Set a lower
    // value for better recovery on less reliable connections.
    $chunkSizeBytes = 1 * 1024 * 1024;

    // Setting the defer flag to true tells the client to return a request which can be called
    // with -&gt;execute(); instead of making the API call immediately.
    $client-&gt;setDefer(true);

    $chan = new Google_Service_YouTube_ChannelBannerResource();

    // Create a request for the API&#39;s channelBanners.insert method to upload the banner.
    $insertRequest = $youtube-&gt;channelBanners-&gt;insert($chan);

    // Create a MediaFileUpload object for resumable uploads.
    $media = new Google_Http_MediaFileUpload(
        $client,
        $insertRequest,
        &#39;image/jpeg&#39;,
        null,
        true,
        $chunkSizeBytes
    );
    $media-&gt;setFileSize(filesize($imagePath));


    // Read the media file and upload it chunk by chunk.
    $status = false;
    $handle = fopen($imagePath, &quot;rb&quot;);
    while (!$status &amp;&amp; !feof($handle)) {
      $chunk = fread($handle, $chunkSizeBytes);
      $status = $media-&gt;nextChunk($chunk);
    }

    fclose($handle);

    // If you want to make other calls after the file upload, set setDefer back to false
    $client-&gt;setDefer(false);

    $thumbnailUrl = $status[&#39;url&#39;];

    // Call the API&#39;s channels.list method with mine parameter to fetch authorized user&#39;s channel.
    $listResponse = $youtube-&gt;channels-&gt;listChannels(&#39;brandingSettings&#39;, array(
        &#39;mine&#39; =&gt; &#39;true&#39;,
    ));

    $responseChannel = $listResponse[0];
    $responseChannel[&#39;brandingSettings&#39;][&#39;image&#39;][&#39;bannerExternalUrl&#39;]=$thumbnailUrl;

     // Call the API&#39;s channels.update method to update branding settings of the channel.
     $updateResponse = $youtube-&gt;channels-&gt;update(&#39;brandingSettings&#39;, $responseChannel);

     $bannerMobileUrl = $updateResponse[&quot;brandingSettings&quot;][&quot;image&quot;][&quot;bannerMobileImageUrl&quot;];

     $htmlBody .= &quot;&lt;h3&gt;Thumbnail Uploaded&lt;/h3&gt;&lt;ul&gt;&quot;;
     $htmlBody .= sprintf(&#39;&lt;li&gt;%s&lt;/li&gt;&#39;,
         $thumbnailUrl);
     $htmlBody .= sprintf(&#39;&lt;img src=&quot;%s&quot;&gt;&#39;, $bannerMobileUrl);
     $htmlBody .= &#39;&lt;/ul&gt;&#39;;

  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
&lt;h3&gt;Authorization Required&lt;/h3&gt;
&lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Banner Uploaded and Set&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/upload_banner.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/upload_banner.php">upload_banner.php</a></div></pre>

<h2 id="upload_a_custom_video_thumbnail_image">Upload a custom video thumbnail image</h2>
<p>This sample demonstrates how to upload a custom video thumbnail to YouTube and set it for a video.
It calls the API's <code>youtube.thumbnails.set</code> method with <code>videoId</code> parameter set to a video
ID to use a custom image as a thumbnail to the video. For the image upload, the program utilizes the
<code>Google_MediaFileUpload</code> class with the <code>resumable</code> parameter set to
<code>true</code> to upload the image piece-by-piece, allowing for subsequent retries to resume uploading from
a point close to where the previous retry failed, a feature useful for programs that need to upload large files.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * This sample uploads and sets a custom thumbnail for a video.
 *
 * 1. It uploads an image using the &quot;Google_MediaFileUpload&quot; class.
 * 2. It sets the uploaded image as a custom thumbnail to the video by
 *    calling the API&#39;s &quot;youtube.thumbnails.set&quot; method
 *
 * @author Ibrahim Ulukaya
*/

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  $htmlBody = &#39;&#39;;
  try{

    // REPLACE this value with the video ID of the video being updated.
    $videoId = &quot;VIDEO_ID&quot;;

    // REPLACE this value with the path to the image file you are uploading.
    $imagePath = &quot;/path/to/file.png&quot;;

    // Specify the size of each chunk of data, in bytes. Set a higher value for
    // reliable connection as fewer chunks lead to faster uploads. Set a lower
    // value for better recovery on less reliable connections.
    $chunkSizeBytes = 1 * 1024 * 1024;

    // Setting the defer flag to true tells the client to return a request which can be called
    // with -&gt;execute(); instead of making the API call immediately.
    $client-&gt;setDefer(true);

    // Create a request for the API&#39;s thumbnails.set method to upload the image and associate
    // it with the appropriate video.
    $setRequest = $youtube-&gt;thumbnails-&gt;set($videoId);

    // Create a MediaFileUpload object for resumable uploads.
    $media = new Google_Http_MediaFileUpload(
        $client,
        $setRequest,
        &#39;image/png&#39;,
        null,
        true,
        $chunkSizeBytes
    );
    $media-&gt;setFileSize(filesize($imagePath));


    // Read the media file and upload it chunk by chunk.
    $status = false;
    $handle = fopen($imagePath, &quot;rb&quot;);
    while (!$status &amp;&amp; !feof($handle)) {
      $chunk = fread($handle, $chunkSizeBytes);
      $status = $media-&gt;nextChunk($chunk);
    }

    fclose($handle);

    // If you want to make other calls after the file upload, set setDefer back to false
    $client-&gt;setDefer(false);


    $thumbnailUrl = $status[&#39;items&#39;][0][&#39;default&#39;][&#39;url&#39;];
    $htmlBody .= &quot;&lt;h3&gt;Thumbnail Uploaded&lt;/h3&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s (%s)&lt;/li&gt;&#39;,
        $videoId,
        $thumbnailUrl);
    $htmlBody .= sprintf(&#39;&lt;img src=&quot;%s&quot;&gt;&#39;, $thumbnailUrl);
    $htmlBody .= &#39;&lt;/ul&gt;&#39;;


  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
&lt;h3&gt;Authorization Required&lt;/h3&gt;
&lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Claim Uploaded&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/upload_thumbnail.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/upload_thumbnail.php">upload_thumbnail.php</a></div></pre>

<h2 id="upload_a_video">Upload a video</h2>
<p>The following code sample calls the API's <code>videos.insert</code> method to add a video to user's
channel. The code also utilizes <code>Google_MediaFileUpload</code> class with the <code>resumable upload</code>
parameter set to <code>true</code> to be able to to upload the video in chunks.</p>
<pre class="prettyprint lang-php notranslate">&lt;?php

/**
 * Library Requirements
 *
 * 1. Install composer (https://getcomposer.org)
 * 2. On the command line, change to this directory (api-samples/php)
 * 3. Require the google/apiclient library
 *    $ composer require google/apiclient:~2.0
 */
if (!file_exists(__DIR__ . &#39;/vendor/autoload.php&#39;)) {
  throw new \Exception(&#39;please run &quot;composer require google/apiclient:~2.0&quot; in &quot;&#39; . __DIR__ .&#39;&quot;&#39;);
}

require_once __DIR__ . &#39;/vendor/autoload.php&#39;;
session_start();

/*
 * You can acquire an OAuth 2.0 client ID and client secret from the
 * {{ Google Cloud Console }} &lt;{{ https://cloud.google.com/console }}&gt;
 * For more information about using OAuth 2.0 to access Google APIs, please see:
 * &lt;https://developers.google.com/youtube/v3/guides/authentication&gt;
 * Please ensure that you have enabled the YouTube Data API for your project.
 */
$OAUTH2_CLIENT_ID = &#39;REPLACE_ME&#39;;
$OAUTH2_CLIENT_SECRET = &#39;REPLACE_ME&#39;;

$client = new Google_Client();
$client-&gt;setClientId($OAUTH2_CLIENT_ID);
$client-&gt;setClientSecret($OAUTH2_CLIENT_SECRET);
$client-&gt;setScopes(&#39;https://www.googleapis.com/auth/youtube&#39;);
$redirect = filter_var(&#39;http://&#39; . $_SERVER[&#39;HTTP_HOST&#39;] . $_SERVER[&#39;PHP_SELF&#39;],
    FILTER_SANITIZE_URL);
$client-&gt;setRedirectUri($redirect);

// Define an object that will be used to make all API requests.
$youtube = new Google_Service_YouTube($client);

// Check if an auth token exists for the required scopes
$tokenSessionKey = &#39;token-&#39; . $client-&gt;prepareScopes();
if (isset($_GET[&#39;code&#39;])) {
  if (strval($_SESSION[&#39;state&#39;]) !== strval($_GET[&#39;state&#39;])) {
    die(&#39;The session state did not match.&#39;);
  }

  $client-&gt;authenticate($_GET[&#39;code&#39;]);
  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
  header(&#39;Location: &#39; . $redirect);
}

if (isset($_SESSION[$tokenSessionKey])) {
  $client-&gt;setAccessToken($_SESSION[$tokenSessionKey]);
}

// Check to ensure that the access token was successfully acquired.
if ($client-&gt;getAccessToken()) {
  $htmlBody = &#39;&#39;;
  try{
    // REPLACE this value with the path to the file you are uploading.
    $videoPath = &quot;/path/to/file.mp4&quot;;

    // Create a snippet with title, description, tags and category ID
    // Create an asset resource and set its snippet metadata and type.
    // This example sets the video&#39;s title, description, keyword tags, and
    // video category.
    $snippet = new Google_Service_YouTube_VideoSnippet();
    $snippet-&gt;setTitle(&quot;Test title&quot;);
    $snippet-&gt;setDescription(&quot;Test description&quot;);
    $snippet-&gt;setTags(array(&quot;tag1&quot;, &quot;tag2&quot;));

    // Numeric video category. See
    // https://developers.google.com/youtube/v3/docs/videoCategories/list
    $snippet-&gt;setCategoryId(&quot;22&quot;);

    // Set the video&#39;s status to &quot;public&quot;. Valid statuses are &quot;public&quot;,
    // &quot;private&quot; and &quot;unlisted&quot;.
    $status = new Google_Service_YouTube_VideoStatus();
    $status-&gt;privacyStatus = &quot;public&quot;;

    // Associate the snippet and status objects with a new video resource.
    $video = new Google_Service_YouTube_Video();
    $video-&gt;setSnippet($snippet);
    $video-&gt;setStatus($status);

    // Specify the size of each chunk of data, in bytes. Set a higher value for
    // reliable connection as fewer chunks lead to faster uploads. Set a lower
    // value for better recovery on less reliable connections.
    $chunkSizeBytes = 1 * 1024 * 1024;

    // Setting the defer flag to true tells the client to return a request which can be called
    // with -&gt;execute(); instead of making the API call immediately.
    $client-&gt;setDefer(true);

    // Create a request for the API&#39;s videos.insert method to create and upload the video.
    $insertRequest = $youtube-&gt;videos-&gt;insert(&quot;status,snippet&quot;, $video);

    // Create a MediaFileUpload object for resumable uploads.
    $media = new Google_Http_MediaFileUpload(
        $client,
        $insertRequest,
        &#39;video/*&#39;,
        null,
        true,
        $chunkSizeBytes
    );
    $media-&gt;setFileSize(filesize($videoPath));


    // Read the media file and upload it chunk by chunk.
    $status = false;
    $handle = fopen($videoPath, &quot;rb&quot;);
    while (!$status &amp;&amp; !feof($handle)) {
      $chunk = fread($handle, $chunkSizeBytes);
      $status = $media-&gt;nextChunk($chunk);
    }

    fclose($handle);

    // If you want to make other calls after the file upload, set setDefer back to false
    $client-&gt;setDefer(false);


    $htmlBody .= &quot;&lt;h3&gt;Video Uploaded&lt;/h3&gt;&lt;ul&gt;&quot;;
    $htmlBody .= sprintf(&#39;&lt;li&gt;%s (%s)&lt;/li&gt;&#39;,
        $status[&#39;snippet&#39;][&#39;title&#39;],
        $status[&#39;id&#39;]);

    $htmlBody .= &#39;&lt;/ul&gt;&#39;;

  } catch (Google_Service_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;A service error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  } catch (Google_Exception $e) {
    $htmlBody .= sprintf(&#39;&lt;p&gt;An client error occurred: &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;&#39;,
        htmlspecialchars($e-&gt;getMessage()));
  }

  $_SESSION[$tokenSessionKey] = $client-&gt;getAccessToken();
} elseif ($OAUTH2_CLIENT_ID == &#39;REPLACE_ME&#39;) {
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Client Credentials Required&lt;/h3&gt;
  &lt;p&gt;
    You need to set &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; and
    &lt;code&gt;\$OAUTH2_CLIENT_ID&lt;/code&gt; before proceeding.
  &lt;p&gt;
END;
} else {
  // If the user hasn&#39;t authorized the app, initiate the OAuth flow
  $state = mt_rand();
  $client-&gt;setState($state);
  $_SESSION[&#39;state&#39;] = $state;

  $authUrl = $client-&gt;createAuthUrl();
  $htmlBody = &lt;&lt;&lt;END
  &lt;h3&gt;Authorization Required&lt;/h3&gt;
  &lt;p&gt;You need to &lt;a href=&quot;$authUrl&quot;&gt;authorize access&lt;/a&gt; before proceeding.&lt;p&gt;
END;
}
?&gt;

&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Video Uploaded&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;?=$htmlBody?&gt;
&lt;/body&gt;
&lt;/html&gt;
<div class="devsite-github-link nocode"><a target="_top" href="https://github.com/youtube/api-samples/blob/master/php/resumable_upload.php" class="gc-analytics-event" data-category="github_link" data-label="youtube/api-samples/php/resumable_upload.php">resumable_upload.php</a></div></pre>

  
  </div>
  

  
        
  







        
<div class="devsite-content-footer nocontent">
  
  
    <p>Except as otherwise noted, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="https://developers.google.com/terms/site-policies">Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  

  
    
    <p class="devsite-content-footer-date" itemprop="datePublished"
       content="2016-12-02T15:54:27.457580">
      
      Last updated December 2, 2016.
    </p>
  

</div>

        </article>
      </article>
  

        </div>
      

<footer class="devsite-footer-promos nocontent"><nav class="devsite-full-site-width"><ul class="devsite-footer-promos-list"><li class="devsite-footer-promo"><a href="http://apiblog.youtube.com"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://www.gstatic.com/images/icons/material/product/2x/blogger_64dp.png">
          
          
            Blog
          
        </a><div class="devsite-footer-promo-description">The latest news on the YouTube API blog</div></li><li class="devsite-footer-promo"><a href="https://github.com/youtube/api-samples"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://developers.google.com/site-assets/logo-github.svg">
          
          
            GitHub
          
        </a><div class="devsite-footer-promo-description">Find API code samples and other YouTube open-source projects.</div></li><li class="devsite-footer-promo"><a href="https://code.google.com/p/gdata-issues/issues/entry?template=YouTube%20(Defect%20Report)"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://developers.google.com/site-assets/developers_64dp.png">
          
          
            Issue Tracker
          
        </a><div class="devsite-footer-promo-description">Something wrong? Send us a bug report!</div></li><li class="devsite-footer-promo"><a href="http://stackoverflow.com/questions/ask?tags=youtube-api"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://developers.google.com/site-assets/logo-stack-overflow.svg">
          
          
            Stack Overflow
          
        </a><div class="devsite-footer-promo-description">Ask a question under the youtube-api tag</div></li><li class="devsite-footer-promo"><a href="https://www.youtube.com/user/YouTubeDev"
           class="devsite-footer-promo-title gc-analytics-event"
           data-category="Site-Wide Custom Events"
           data-label="Content Page Footer Promo"
           ><img class="devsite-footer-promo-icon" src="https://www.gstatic.com/images/icons/material/product/2x/youtube_64dp.png">
          
          
            Videos
          
        </a><div class="devsite-footer-promo-description">Check out the YouTube Developer Relations team&#39;s YouTube channel</div></li></ul></nav></footer><footer class="devsite-footer-linkboxes nocontent
               
               devsite-footer-linkboxes-with-sites"><nav class="devsite-full-site-width"><ul class="devsite-footer-linkboxes-list"><li class="devsite-footer-linkbox "><h3 class="devsite-footer-linkbox-heading">Tools</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/apis-explorer/#p/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Google APIs Explorer
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/youtube_player_demo" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                YouTube Player Demo
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/youtube_subscribe_button" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Configure a Subscribe Button
            </a></li></ul></li><li class="devsite-footer-linkbox "><h3 class="devsite-footer-linkbox-heading">Issue Tracker</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://code.google.com/p/gdata-issues/issues/entry?template=YouTube%20(Defect%20Report)" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                File a bug
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://code.google.com/p/gdata-issues/issues/entry?template=YouTube%20(Enhancement%20Request)" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Request a feature
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://code.google.com/p/gdata-issues/issues/list?q=label:API-YouTube" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                See open issues
            </a></li></ul></li><li class="devsite-footer-linkbox "><h3 class="devsite-footer-linkbox-heading">Product Info</h3><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/terms" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Terms of Service
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/branding_guidelines" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Branding Guidelines
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/creating_monetizable_applications" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                Monetization Guidelines
            </a></li><li class="devsite-footer-linkbox-item"><a href="https://developers.google.com/youtube/youtube-api-list" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Content Page Footer Linkbox">
                APIs subject to Deprecation Policy
            </a></li></ul></li><li class="devsite-footer-linkbox devsite-footer-linkbox-sites"><a href="https://developers.google.com/"
           class="gc-analytics-event devsite-footer-linkbox-logo-link"
           data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link"><img class="devsite-footer-linkbox-logo"
               src="https://developers.google.com/_static/d7147bb846/images/redesign-14/lockup-color-knockout.png"
               alt="Google Developers"></a><ul class="devsite-footer-linkbox-list"><li class="devsite-footer-linkbox-item"><a href="//developer.android.com/index.html" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Android Link">
                Android
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developer.chrome.com/home" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Chrome Link">
                Chrome
            </a></li><li class="devsite-footer-linkbox-item"><a href="//firebase.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Firebase Link">
                Firebase
            </a></li><li class="devsite-footer-linkbox-item"><a href="//cloud.google.com" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Cloud Link">
                Google Cloud Platform
            </a></li><li class="devsite-footer-linkbox-item"><a href="//developers.google.com/products/" class="gc-analytics-event"
               data-category="Site-Wide Custom Events"
               data-label="Footer Products Link">
                All Products
            </a></li></ul></li></ul></nav></footer><footer class="devsite-utility-footer"><nav class="devsite-utility-footer-nav devsite-nav devsite-full-site-width"><div class="devsite-utility-footer-nav-left"><form class="devsite-utility-footer-language" action="/i18n/setlang/" method="post"><input type="hidden" name="xsrf_token" value="yKB-FInufLwAyrk2DthHq5itsImJfhbDhPXI9P-SaPQ6MTUyNDQ1ODMxNTgzOTEyMA" /><input type="hidden" name="next" value="/youtube/v3/code_samples/php"><select class="devsite-utility-footer-language-select kd-select" name="language"
                track-type="languageSelector" track-name="click"><option value="id"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="id">
            Bahasa Indonesia
          </option><option value="de"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="de">
            Deutsch
          </option><option value="en"
                 selected="selected" 
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="en">
            English
          </option><option value="es"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="es">
            español
          </option><option value="fr"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="fr">
            français
          </option><option value="pt-br"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="pt-br">
            Português Brasileiro
          </option><option value="ru"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="ru">
            Русский
          </option><option value="ja"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="ja">
            日本語
          </option><option value="zh-cn"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="zh-cn">
            简体中文
          </option><option value="ko"
                
                track-type="languageSelector" track-name="changed"
                track-metadata-original-language="en"
                track-metadata-selected-language="ko">
            한국어
          </option></select></form><span class="devsite-utility-footer-links"><a class="devsite-utility-footer-link gc-analytics-event"
           href="https://developers.google.com/terms/site-terms"
           data-category="Site-Wide Custom Events"
           data-label="Footer terms link"
           data-footer-link-id="terms"
           >Terms
         </a><a class="devsite-utility-footer-link gc-analytics-event"
           href="//www.google.com/policies/privacy/"
           data-category="Site-Wide Custom Events"
           data-label="Footer privacy link"
           data-footer-link-id="privacy"
           >Privacy
         </a></span></div><div class="devsite-utility-footer-nav-right"><div class="devsite-utility-footer-newsletter-signup-text">
        Sign up for the Google Developers newsletter
      </div><a class="button button-primary devsite-utility-footer-newsletter-signup-button"
         href="//services.google.com/fb/forms/googledevelopersnewsletter/?utm_medium=referral&amp;utm_source=google-products&amp;utm_team=googledevs&amp;utm_campaign=201611-newsletter-launch">
        
        Subscribe
      </a></div></nav></footer><div class="devsite-feedback-dialog devsite-dialog"><div class="devsite-dialog-contents"><h3>Send feedback about...</h3><div class="devsite-feedback-item"><a data-type="documentation" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Docs Feedback Image"
           track-type="feedback" track-name="feedbackDocIcon" track-metadata-position="header"><div class="devsite-feedback-item-icon-container"><div class="devsite-feedback-item-icon-white devsite-feedback-item-icon-docs
                        material-icons"></div></div></a><div class="devsite-feedback-item-name">
          
          This page
        </div><div class="devsite-feedback-item-description"><a data-type="documentation" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Docs Feedback Text"
             track-type="feedback" track-name="feedbackDocText" track-metadata-position="header">
            
            Documentation feedback
          </a></div></div><div class="devsite-feedback-item"><a data-type="product" tabindex="0" class="gc-analytics-event"
           data-category="Site-Wide Custom Events" data-label="Product Feedback Image"
           track-type="feedback" track-name="feedbackProductIcon" track-metadata-position="header"
         ><img src="https://developers.google.com/site-assets/logo-youtube.svg"
                 class="devsite-feedback-item-icon"
                 alt="YouTube Data API"></a><div class="devsite-feedback-item-name">
        YouTube Data API
        </div><div class="devsite-feedback-item-description"><a data-type="product" tabindex="0" class="gc-analytics-event"
             data-category="Site-Wide Custom Events" data-label="Product Feedback Text"
             track-type="feedback" track-name="feedbackProductText" track-metadata-position="header"
           >
            
            Product feedback
          </a></div></div></div><div class="devsite-dialog-buttons"><button type="button" class="devsite-feedback-cancel button-white gc-analytics-event"
              data-category="Site-Wide Custom Events" data-label="Cancel Feedback Button"
              track-type="feedback" track-name="cancelFeedbackButton"
              track-metadata-position="header">
        
        Cancel
      </button></div></div><script>
  $(document).ready(function() {
    new devsite.feedback.Widget({
        'product_id': '5020320',
        'bucket': 'Default',
        'context': '',
        'version': 'devsite-20180420-r00-rc00.default'
      },
      document.querySelectorAll('.devsite-feedback-button'),
      'en',
      document.querySelector('.devsite-site-mask'),
      document.querySelector('.devsite-feedback-dialog'),
      document.querySelector('.devsite-feedback-cancel'),
      document.querySelectorAll('.devsite-feedback-item a:not([href])')
    );
  });
  </script></div><script async defer src="//www.gstatic.com/feedback/api.js"></script><script src="https://developers.google.com/_static2/d7147bb846/jsi18n/"></script><script src="https://developers.google.com/_static/d7147bb846/js/script_foot_closure.js"></script><script src="https://developers.google.com/_static/d7147bb846/js/script_foot.js"></script><script>
        (function($) {
          
          devsite.devsite.Init($, {'ENABLE_BLOCKED_VIDEO_PLACEHOLDER': 0, 'SITE_NAME': 'devsite', 'FULL_SITE_SEARCH_ENABLED': 1, 'ENABLE_CLOUDTRACK': 0, 'VTAGS_ENABLED': 0, 'HISTORY_ENABLED': 1, 'VERSION_HASH': 'd7147bb846', 'SCRIPTSAFE_DOMAIN': 'google-developers.appspot.com', 'ENABLE_BLOCKED_LINK_TOOLTIP': 0, 'ALLOWED_HOSTS': ['.android.com', '.anvato.com', '.apigee.com', '.appspot.com', '.dialogflow.com', '.gonglchuangl.net', '.google.cn', '.google.com', '.googleplex.com', '.nest.com', '.openthread.io', '.openweave.io', '.orbitera.com', '.tensorflow.org'], 'BLOCK_RSS_FEEDS': 0},
                               '[]','en',
                               true, '',
                               {"f62218c009ec029abef196bba5aa34cf": true, "8de7a048f21618359bd37f5ce44be073": false, "098dafe57affddc137df300142652cfd": false, "8e03e230de0bd8a6fe173fdf172e8b3f": true, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "d169d485cf24243a263783dbe42029b1": true, "039e5d84b87fd75807ffb37b7f1bbf2c": true, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true}, '/youtube/v3/',
                               'https://developers.google.com/');
        })(jQuery);

        
        devsite.localInit = function() {
          
        };

      </script><script>
      $('.devsite-utility-footer-language-select').each(function() {
        $(this).change(function(){$('.devsite-utility-footer-language').submit();});
      });
      </script></div><span id="devsite-request-elapsed" data-request-elapsed="264.780044556"></span></body></html>
